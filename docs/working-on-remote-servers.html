<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Working on remote servers | Practical Computing and Bioinformatics for Conservation and Evolutionary Genomics</title>
  <meta name="description" content="A book example for a Chapman &amp; Hall book." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Working on remote servers | Practical Computing and Bioinformatics for Conservation and Evolutionary Genomics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book example for a Chapman &amp; Hall book." />
  <meta name="github-repo" content="yihui/bookdown-crc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Working on remote servers | Practical Computing and Bioinformatics for Conservation and Evolutionary Genomics" />
  
  <meta name="twitter:description" content="A book example for a Chapman &amp; Hall book." />
  

<meta name="author" content="Eric C. Anderson" />


<meta name="date" content="2020-02-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sed-awk-and-regular-expressions.html"/>
<link rel="next" href="high-performance-computing-hpc-environments.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ECA's Bioinformatics Handbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="erics-notes-of-what-he-might-do.html"><a href="erics-notes-of-what-he-might-do.html"><i class="fa fa-check"></i><b>2</b> Eric’s Notes of what he might do</a><ul>
<li class="chapter" data-level="2.1" data-path="erics-notes-of-what-he-might-do.html"><a href="erics-notes-of-what-he-might-do.html#table-of-topics"><i class="fa fa-check"></i><b>2.1</b> Table of topics</a></li>
</ul></li>
<li class="part"><span><b>I Part I: Essential Computing Skills</b></span></li>
<li class="chapter" data-level="3" data-path="overview-of-essential-computing-skills.html"><a href="overview-of-essential-computing-skills.html"><i class="fa fa-check"></i><b>3</b> Overview of Essential Computing Skills</a></li>
<li class="chapter" data-level="4" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html"><i class="fa fa-check"></i><b>4</b> Essential Unix/Linux Terminal Knowledge</a><ul>
<li class="chapter" data-level="4.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#getting-a-bash-shell-on-your-system"><i class="fa fa-check"></i><b>4.1</b> Getting a bash shell on your system</a></li>
<li class="chapter" data-level="4.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#navigating-the-unix-filesystem"><i class="fa fa-check"></i><b>4.2</b> Navigating the Unix filesystem</a><ul>
<li class="chapter" data-level="4.2.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#changing-the-working-directory-with-cd"><i class="fa fa-check"></i><b>4.2.1</b> Changing the working directory with <code>cd</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#updating-your-command-prompt"><i class="fa fa-check"></i><b>4.2.2</b> Updating your command prompt</a></li>
<li class="chapter" data-level="4.2.3" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#tab-completion-for-paths"><i class="fa fa-check"></i><b>4.2.3</b> TAB-completion for paths</a></li>
<li class="chapter" data-level="4.2.4" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#listing-the-contents-of-a-directory-with-ls"><i class="fa fa-check"></i><b>4.2.4</b> Listing the contents of a directory with <code>ls</code></a></li>
<li class="chapter" data-level="4.2.5" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#globbing"><i class="fa fa-check"></i><b>4.2.5</b> Globbing</a></li>
<li class="chapter" data-level="4.2.6" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#what-makes-a-good-file-name"><i class="fa fa-check"></i><b>4.2.6</b> What makes a good file-name?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#the-anatomy-of-a-unix-command"><i class="fa fa-check"></i><b>4.3</b> The anatomy of a Unix command</a><ul>
<li class="chapter" data-level="4.3.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#anatomy-command"><i class="fa fa-check"></i><b>4.3.1</b> The <code>command</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#the-options"><i class="fa fa-check"></i><b>4.3.2</b> The <em>options</em></a></li>
<li class="chapter" data-level="4.3.3" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#arguments"><i class="fa fa-check"></i><b>4.3.3</b> Arguments</a></li>
<li class="chapter" data-level="4.3.4" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#getting-information-about-unix-commands"><i class="fa fa-check"></i><b>4.3.4</b> Getting information about Unix commands</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#handling-manipulating-and-viewing-files-and-streams"><i class="fa fa-check"></i><b>4.4</b> Handling, Manipulating, and Viewing files and streams</a><ul>
<li class="chapter" data-level="4.4.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#creating-new-directories"><i class="fa fa-check"></i><b>4.4.1</b> Creating new directories</a></li>
<li class="chapter" data-level="4.4.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#fundamental-file-handling-commands"><i class="fa fa-check"></i><b>4.4.2</b> Fundamental file-handling commands</a></li>
<li class="chapter" data-level="4.4.3" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#viewing-files"><i class="fa fa-check"></i><b>4.4.3</b> “Viewing” Files</a></li>
<li class="chapter" data-level="4.4.4" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#redirecting-standard-output-and"><i class="fa fa-check"></i><b>4.4.4</b> Redirecting standard output: <code>&gt;</code> and <code>&gt;&gt;</code></a></li>
<li class="chapter" data-level="4.4.5" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#stdin-and"><i class="fa fa-check"></i><b>4.4.5</b> stdin, <code>&lt;</code> and <code>|</code></a></li>
<li class="chapter" data-level="4.4.6" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#stderr"><i class="fa fa-check"></i><b>4.4.6</b> stderr</a></li>
<li class="chapter" data-level="4.4.7" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#symbolic-links"><i class="fa fa-check"></i><b>4.4.7</b> Symbolic links</a></li>
<li class="chapter" data-level="4.4.8" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#file-permissions"><i class="fa fa-check"></i><b>4.4.8</b> File Permissions</a></li>
<li class="chapter" data-level="4.4.9" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#editing-text-files-at-the-terminal"><i class="fa fa-check"></i><b>4.4.9</b> Editing text files at the terminal</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#unix-env"><i class="fa fa-check"></i><b>4.5</b> Customizing your Environment</a><ul>
<li class="chapter" data-level="4.5.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#appearances-matter"><i class="fa fa-check"></i><b>4.5.1</b> Appearances matter</a></li>
<li class="chapter" data-level="4.5.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#where-are-my-programscommands-at"><i class="fa fa-check"></i><b>4.5.2</b> Where are my programs/commands at?!</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#a-few-more-important-keystrokes"><i class="fa fa-check"></i><b>4.6</b> A Few More Important Keystrokes</a></li>
<li class="chapter" data-level="4.7" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#a-short-list-of-additional-useful-commands."><i class="fa fa-check"></i><b>4.7</b> A short list of additional useful commands.</a></li>
<li class="chapter" data-level="4.8" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#two-important-computing-concepts"><i class="fa fa-check"></i><b>4.8</b> Two important computing concepts</a><ul>
<li class="chapter" data-level="4.8.1" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#compression"><i class="fa fa-check"></i><b>4.8.1</b> Compression</a></li>
<li class="chapter" data-level="4.8.2" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#hashing"><i class="fa fa-check"></i><b>4.8.2</b> Hashing</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="essential-unixlinux-terminal-knowledge.html"><a href="essential-unixlinux-terminal-knowledge.html#unix-quick-study-guide"><i class="fa fa-check"></i><b>4.9</b> Unix: Quick Study Guide</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="shell-programming.html"><a href="shell-programming.html"><i class="fa fa-check"></i><b>5</b> Shell programming</a><ul>
<li class="chapter" data-level="5.1" data-path="shell-programming.html"><a href="shell-programming.html#an-example-script"><i class="fa fa-check"></i><b>5.1</b> An example script</a></li>
<li class="chapter" data-level="5.2" data-path="shell-programming.html"><a href="shell-programming.html#the-structure-of-a-bash-script"><i class="fa fa-check"></i><b>5.2</b> The Structure of a Bash Script</a><ul>
<li class="chapter" data-level="5.2.1" data-path="shell-programming.html"><a href="shell-programming.html#a-bit-more-on-and"><i class="fa fa-check"></i><b>5.2.1</b> A bit more on <code>;</code> and <code>&amp;</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="shell-programming.html"><a href="shell-programming.html#variables"><i class="fa fa-check"></i><b>5.3</b> Variables</a><ul>
<li class="chapter" data-level="5.3.1" data-path="shell-programming.html"><a href="shell-programming.html#assigning-values-to-variables"><i class="fa fa-check"></i><b>5.3.1</b> Assigning values to variables</a></li>
<li class="chapter" data-level="5.3.2" data-path="shell-programming.html"><a href="shell-programming.html#accessing-values-from-variables"><i class="fa fa-check"></i><b>5.3.2</b> Accessing values from variables</a></li>
<li class="chapter" data-level="5.3.3" data-path="shell-programming.html"><a href="shell-programming.html#what-does-the-shell-do-with-the-value-substituted-for-a-variable"><i class="fa fa-check"></i><b>5.3.3</b> What does the shell do with the value substituted for a variable?</a></li>
<li class="chapter" data-level="5.3.4" data-path="shell-programming.html"><a href="shell-programming.html#double-and-single-quotation-marks-and-variable-substitution"><i class="fa fa-check"></i><b>5.3.4</b> Double and Single Quotation Marks and Variable Substitution</a></li>
<li class="chapter" data-level="5.3.5" data-path="shell-programming.html"><a href="shell-programming.html#one-useful-fancy-variable-substitution-method"><i class="fa fa-check"></i><b>5.3.5</b> One useful, fancy, variable-substitution method</a></li>
<li class="chapter" data-level="5.3.6" data-path="shell-programming.html"><a href="shell-programming.html#variable-arrays"><i class="fa fa-check"></i><b>5.3.6</b> Variable arrays</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="shell-programming.html"><a href="shell-programming.html#evaluate-a-command-and-substitute-the-result-on-the-command-line"><i class="fa fa-check"></i><b>5.4</b> Evaluate a command and substitute the result on the command line</a></li>
<li class="chapter" data-level="5.5" data-path="shell-programming.html"><a href="shell-programming.html#groupingcollecting-output-from-multiple-commands-commands-and-commands"><i class="fa fa-check"></i><b>5.5</b> Grouping/Collecting output from multiple commands: <code>(commands)</code> and <code>{ commands; }</code></a></li>
<li class="chapter" data-level="5.6" data-path="shell-programming.html"><a href="shell-programming.html#exit-status"><i class="fa fa-check"></i><b>5.6</b> Exit Status</a><ul>
<li class="chapter" data-level="5.6.1" data-path="shell-programming.html"><a href="shell-programming.html#combinations-of-exit-statuses"><i class="fa fa-check"></i><b>5.6.1</b> Combinations of exit statuses</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="shell-programming.html"><a href="shell-programming.html#loops-and-repetition"><i class="fa fa-check"></i><b>5.7</b> Loops and repetition</a></li>
<li class="chapter" data-level="5.8" data-path="shell-programming.html"><a href="shell-programming.html#more-conditional-evaluation-if-then-else-and-friends"><i class="fa fa-check"></i><b>5.8</b> More Conditional Evaluation: <code>if</code>, <code>then</code>, <code>else</code>, and friends</a></li>
<li class="chapter" data-level="5.9" data-path="shell-programming.html"><a href="shell-programming.html#finallypositional-parameters"><i class="fa fa-check"></i><b>5.9</b> Finally…positional parameters</a></li>
<li class="chapter" data-level="5.10" data-path="shell-programming.html"><a href="shell-programming.html#basename-and-dirname-two-useful-little-utilities"><i class="fa fa-check"></i><b>5.10</b> <code>basename</code> and <code>dirname</code> two useful little utilities</a></li>
<li class="chapter" data-level="5.11" data-path="shell-programming.html"><a href="shell-programming.html#bash-functions"><i class="fa fa-check"></i><b>5.11</b> <code>bash</code> functions</a></li>
<li class="chapter" data-level="5.12" data-path="shell-programming.html"><a href="shell-programming.html#reading-files-line-by-line"><i class="fa fa-check"></i><b>5.12</b> reading files line by line</a></li>
<li class="chapter" data-level="5.13" data-path="shell-programming.html"><a href="shell-programming.html#further-reading"><i class="fa fa-check"></i><b>5.13</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html"><i class="fa fa-check"></i><b>6</b> Sed, awk, and regular expressions</a><ul>
<li class="chapter" data-level="6.1" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#awk"><i class="fa fa-check"></i><b>6.1</b> awk</a><ul>
<li class="chapter" data-level="6.1.1" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#line-cycling-tests-and-actions"><i class="fa fa-check"></i><b>6.1.1</b> Line-cycling, tests and actions</a></li>
<li class="chapter" data-level="6.1.2" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#column-splitting-fields--f-nf-print-ofs-and-begin"><i class="fa fa-check"></i><b>6.1.2</b> Column splitting, fields, <code>-F</code>, <code>$</code>, <code>NF</code>, <code>print</code>, <code>OFS</code> and <code>BEGIN</code></a></li>
<li class="chapter" data-level="6.1.3" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#a-brief-introduction-to-regular-expressions"><i class="fa fa-check"></i><b>6.1.3</b> A brief introduction to regular expressions</a></li>
<li class="chapter" data-level="6.1.4" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#a-variety-of-tests"><i class="fa fa-check"></i><b>6.1.4</b> A variety of tests</a></li>
<li class="chapter" data-level="6.1.5" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#code-in-the-action-blocks"><i class="fa fa-check"></i><b>6.1.5</b> Code in the action blocks</a></li>
<li class="chapter" data-level="6.1.6" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#using-awk-to-assign-to-shell-variables"><i class="fa fa-check"></i><b>6.1.6</b> Using <code>awk</code> to assign to shell variables</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="sed-awk-and-regular-expressions.html"><a href="sed-awk-and-regular-expressions.html#sed"><i class="fa fa-check"></i><b>6.2</b> sed</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html"><i class="fa fa-check"></i><b>7</b> Working on remote servers</a><ul>
<li class="chapter" data-level="7.1" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#accessing-remote-computers"><i class="fa fa-check"></i><b>7.1</b> Accessing remote computers</a><ul>
<li class="chapter" data-level="7.1.1" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#windows"><i class="fa fa-check"></i><b>7.1.1</b> Windows</a></li>
<li class="chapter" data-level="7.1.2" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#hummingbird"><i class="fa fa-check"></i><b>7.1.2</b> Hummingbird</a></li>
<li class="chapter" data-level="7.1.3" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#summit"><i class="fa fa-check"></i><b>7.1.3</b> Summit</a></li>
<li class="chapter" data-level="7.1.4" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#sedna"><i class="fa fa-check"></i><b>7.1.4</b> Sedna</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#transferring-files-to-remote-computers"><i class="fa fa-check"></i><b>7.2</b> Transferring files to remote computers</a><ul>
<li class="chapter" data-level="7.2.1" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#sftp"><i class="fa fa-check"></i><b>7.2.1</b> sftp</a></li>
<li class="chapter" data-level="7.2.2" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#git"><i class="fa fa-check"></i><b>7.2.2</b> git</a></li>
<li class="chapter" data-level="7.2.3" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#globus"><i class="fa fa-check"></i><b>7.2.3</b> Globus</a></li>
<li class="chapter" data-level="7.2.4" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#interfacing-with-the-cloud"><i class="fa fa-check"></i><b>7.2.4</b> Interfacing with “The Cloud”</a></li>
<li class="chapter" data-level="7.2.5" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#getting-files-from-a-sequencing-center"><i class="fa fa-check"></i><b>7.2.5</b> Getting files from a sequencing center</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#tmux"><i class="fa fa-check"></i><b>7.3</b> <code>tmux</code>: the terminal multiplexer</a><ul>
<li class="chapter" data-level="7.3.1" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#an-analogy-for-how-tmux-works"><i class="fa fa-check"></i><b>7.3.1</b> An analogy for how <code>tmux</code> works</a></li>
<li class="chapter" data-level="7.3.2" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#first-steps-with-tmux"><i class="fa fa-check"></i><b>7.3.2</b> First steps with <code>tmux</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="working-on-remote-servers.html"><a href="working-on-remote-servers.html#further-steps-with-tmux"><i class="fa fa-check"></i><b>7.3.3</b> Further steps with <code>tmux</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html"><i class="fa fa-check"></i><b>8</b> High Performance Computing (HPC) Environments</a><ul>
<li class="chapter" data-level="8.1" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#activatinginstalling-software"><i class="fa fa-check"></i><b>8.1</b> Activating/Installing software</a><ul>
<li class="chapter" data-level="8.1.1" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#modules"><i class="fa fa-check"></i><b>8.1.1</b> Modules</a></li>
<li class="chapter" data-level="8.1.2" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#miniconda"><i class="fa fa-check"></i><b>8.1.2</b> Miniconda</a></li>
<li class="chapter" data-level="8.1.3" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#exporting-environments"><i class="fa fa-check"></i><b>8.1.3</b> Exporting environments</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#boneyard"><i class="fa fa-check"></i><b>8.2</b> Boneyard</a></li>
<li class="chapter" data-level="8.3" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#the-queue-slurmsgeuge"><i class="fa fa-check"></i><b>8.3</b> The Queue (SLURM/SGE/UGE)</a></li>
<li class="chapter" data-level="8.4" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#modules-package"><i class="fa fa-check"></i><b>8.4</b> Modules package</a></li>
<li class="chapter" data-level="8.5" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#compiling-programs-without-admin-privileges"><i class="fa fa-check"></i><b>8.5</b> Compiling programs without admin privileges</a></li>
<li class="chapter" data-level="8.6" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#job-arrays"><i class="fa fa-check"></i><b>8.6</b> Job arrays</a></li>
<li class="chapter" data-level="8.7" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#writing-stdout-and-stderr-to-files"><i class="fa fa-check"></i><b>8.7</b> Writing stdout and stderr to files</a></li>
<li class="chapter" data-level="8.8" data-path="high-performance-computing-hpc-environments.html"><a href="high-performance-computing-hpc-environments.html#breaking-stuff-down"><i class="fa fa-check"></i><b>8.8</b> Breaking stuff down</a></li>
</ul></li>
<li class="part"><span><b>II Part II: Reproducible Research Strategies</b></span></li>
<li class="chapter" data-level="9" data-path="introduction-to-reproducible-research.html"><a href="introduction-to-reproducible-research.html"><i class="fa fa-check"></i><b>9</b> Introduction to Reproducible Research</a></li>
<li class="chapter" data-level="10" data-path="rstudio-and-project-centered-organization.html"><a href="rstudio-and-project-centered-organization.html"><i class="fa fa-check"></i><b>10</b> Rstudio and Project-centered Organization</a><ul>
<li class="chapter" data-level="10.1" data-path="rstudio-and-project-centered-organization.html"><a href="rstudio-and-project-centered-organization.html#organizing-big-projects"><i class="fa fa-check"></i><b>10.1</b> Organizing big projects</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>11</b> Version control</a><ul>
<li class="chapter" data-level="11.1" data-path="version-control.html"><a href="version-control.html#why-use-version-control"><i class="fa fa-check"></i><b>11.1</b> Why use version control?</a></li>
<li class="chapter" data-level="11.2" data-path="version-control.html"><a href="version-control.html#git-workings"><i class="fa fa-check"></i><b>11.2</b> How git works</a></li>
<li class="chapter" data-level="11.3" data-path="version-control.html"><a href="version-control.html#git-workflow-patterns"><i class="fa fa-check"></i><b>11.3</b> git workflow patterns</a></li>
<li class="chapter" data-level="11.4" data-path="version-control.html"><a href="version-control.html#using-git-with-rstudio"><i class="fa fa-check"></i><b>11.4</b> using git with Rstudio</a></li>
<li class="chapter" data-level="11.5" data-path="version-control.html"><a href="version-control.html#git-on-the-command-line"><i class="fa fa-check"></i><b>11.5</b> git on the command line</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="a-fast-furious-overview-of-the-tidyverse.html"><a href="a-fast-furious-overview-of-the-tidyverse.html"><i class="fa fa-check"></i><b>12</b> A fast, furious overview of the tidyverse</a></li>
<li class="chapter" data-level="13" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Authoring reproducibly with Rmarkdown</a><ul>
<li class="chapter" data-level="13.1" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html#notebooks"><i class="fa fa-check"></i><b>13.1</b> Notebooks</a></li>
<li class="chapter" data-level="13.2" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html#references"><i class="fa fa-check"></i><b>13.2</b> References</a><ul>
<li class="chapter" data-level="13.2.1" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html#zotero-and-rmarkdown"><i class="fa fa-check"></i><b>13.2.1</b> Zotero and Rmarkdown</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html#bookdown"><i class="fa fa-check"></i><b>13.3</b> Bookdown</a></li>
<li class="chapter" data-level="13.4" data-path="authoring-reproducibly-with-rmarkdown.html"><a href="authoring-reproducibly-with-rmarkdown.html#google-docs"><i class="fa fa-check"></i><b>13.4</b> Google Docs</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="using-python.html"><a href="using-python.html"><i class="fa fa-check"></i><b>14</b> Using python</a></li>
<li class="part"><span><b>III Part III: Bioinformatic Analyses</b></span></li>
<li class="chapter" data-level="15" data-path="overview-of-bioinformatic-analyses.html"><a href="overview-of-bioinformatic-analyses.html"><i class="fa fa-check"></i><b>15</b> Overview of Bioinformatic Analyses</a></li>
<li class="chapter" data-level="16" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html"><i class="fa fa-check"></i><b>16</b> DNA Sequences and Sequencing</a><ul>
<li class="chapter" data-level="16.1" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#dna-stuff"><i class="fa fa-check"></i><b>16.1</b> DNA Stuff</a><ul>
<li class="chapter" data-level="16.1.1" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#dna-replication-with-dna-polymerase"><i class="fa fa-check"></i><b>16.1.1</b> DNA Replication with DNA Polymerase</a></li>
<li class="chapter" data-level="16.1.2" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#the-importance-of-the-3-hydroxyl"><i class="fa fa-check"></i><b>16.1.2</b> The importance of the 3’ hydroxyl…</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#sanger-sequencing"><i class="fa fa-check"></i><b>16.2</b> Sanger sequencing</a></li>
<li class="chapter" data-level="16.3" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#illumina-sequencing-by-synthesis"><i class="fa fa-check"></i><b>16.3</b> Illumina Sequencing by Synthesis</a></li>
<li class="chapter" data-level="16.4" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#library-prep-protocols"><i class="fa fa-check"></i><b>16.4</b> Library Prep Protocols</a><ul>
<li class="chapter" data-level="16.4.1" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#wgs"><i class="fa fa-check"></i><b>16.4.1</b> WGS</a></li>
<li class="chapter" data-level="16.4.2" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#rad-seq-methods"><i class="fa fa-check"></i><b>16.4.2</b> RAD-Seq methods</a></li>
<li class="chapter" data-level="16.4.3" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#amplicon-sequencing"><i class="fa fa-check"></i><b>16.4.3</b> Amplicon Sequencing</a></li>
<li class="chapter" data-level="16.4.4" data-path="dna-sequences-and-sequencing.html"><a href="dna-sequences-and-sequencing.html#capture-arrays-rapture-etc."><i class="fa fa-check"></i><b>16.4.4</b> Capture arrays, RAPTURE, etc.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html"><i class="fa fa-check"></i><b>17</b> Bioinformatic file formats</a><ul>
<li class="chapter" data-level="17.1" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#sequences"><i class="fa fa-check"></i><b>17.1</b> Sequences</a></li>
<li class="chapter" data-level="17.2" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#fastq"><i class="fa fa-check"></i><b>17.2</b> FASTQ</a><ul>
<li class="chapter" data-level="17.2.1" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#line-1-illumina-identifier-lines"><i class="fa fa-check"></i><b>17.2.1</b> Line 1: Illumina identifier lines</a></li>
<li class="chapter" data-level="17.2.2" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#line-4-base-quality-scores"><i class="fa fa-check"></i><b>17.2.2</b> Line 4: Base quality scores</a></li>
<li class="chapter" data-level="17.2.3" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#a-fastq-tidyverse-interlude"><i class="fa fa-check"></i><b>17.2.3</b> A FASTQ ‘tidyverse’ Interlude</a></li>
<li class="chapter" data-level="17.2.4" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#comparing-read-1-to-read-2"><i class="fa fa-check"></i><b>17.2.4</b> Comparing read 1 to read 2</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#fasta"><i class="fa fa-check"></i><b>17.3</b> FASTA</a><ul>
<li class="chapter" data-level="17.3.1" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#genomic-ranges"><i class="fa fa-check"></i><b>17.3.1</b> Genomic ranges</a></li>
<li class="chapter" data-level="17.3.2" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#extracting-genomic-ranges-from-a-fasta-file"><i class="fa fa-check"></i><b>17.3.2</b> Extracting genomic ranges from a FASTA file</a></li>
<li class="chapter" data-level="17.3.3" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#downloading-reference-genomes-from-ncbi"><i class="fa fa-check"></i><b>17.3.3</b> Downloading reference genomes from NCBI</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#alignments"><i class="fa fa-check"></i><b>17.4</b> Alignments</a><ul>
<li class="chapter" data-level="17.4.1" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#how-might-i-align-to-thee-let-me-count-the-ways"><i class="fa fa-check"></i><b>17.4.1</b> How might I align to thee? Let me count the ways…</a></li>
<li class="chapter" data-level="17.4.2" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#play-with-simple-alignments"><i class="fa fa-check"></i><b>17.4.2</b> Play with simple alignments</a></li>
<li class="chapter" data-level="17.4.3" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#sam-flags"><i class="fa fa-check"></i><b>17.4.3</b> SAM Flags</a></li>
<li class="chapter" data-level="17.4.4" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#the-cigar-string"><i class="fa fa-check"></i><b>17.4.4</b> The CIGAR string</a></li>
<li class="chapter" data-level="17.4.5" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#the-seq-and-qual-columns"><i class="fa fa-check"></i><b>17.4.5</b> The SEQ and QUAL columns</a></li>
<li class="chapter" data-level="17.4.6" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#sam-file-headers"><i class="fa fa-check"></i><b>17.4.6</b> SAM File Headers</a></li>
<li class="chapter" data-level="17.4.7" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#the-bam-format"><i class="fa fa-check"></i><b>17.4.7</b> The BAM format</a></li>
<li class="chapter" data-level="17.4.8" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#quick-self-study"><i class="fa fa-check"></i><b>17.4.8</b> Quick self study</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#variants"><i class="fa fa-check"></i><b>17.5</b> Variants</a></li>
<li class="chapter" data-level="17.6" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#segments"><i class="fa fa-check"></i><b>17.6</b> Segments</a></li>
<li class="chapter" data-level="17.7" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#conversionextractions-between-different-formats"><i class="fa fa-check"></i><b>17.7</b> Conversion/Extractions between different formats</a></li>
<li class="chapter" data-level="17.8" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#visualization-of-genomic-data"><i class="fa fa-check"></i><b>17.8</b> Visualization of Genomic Data</a><ul>
<li class="chapter" data-level="17.8.1" data-path="bioinformatic-file-formats.html"><a href="bioinformatic-file-formats.html#sample-data"><i class="fa fa-check"></i><b>17.8.1</b> Sample Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="genome-assembly.html"><a href="genome-assembly.html"><i class="fa fa-check"></i><b>18</b> Genome Assembly</a></li>
<li class="chapter" data-level="19" data-path="alignment-of-sequence-data-to-a-reference-genome.html"><a href="alignment-of-sequence-data-to-a-reference-genome.html"><i class="fa fa-check"></i><b>19</b> Alignment of sequence data to a reference genome</a><ul>
<li class="chapter" data-level="19.1" data-path="alignment-of-sequence-data-to-a-reference-genome.html"><a href="alignment-of-sequence-data-to-a-reference-genome.html#preprocess"><i class="fa fa-check"></i><b>19.1</b> Preprocess ?</a></li>
<li class="chapter" data-level="19.2" data-path="alignment-of-sequence-data-to-a-reference-genome.html"><a href="alignment-of-sequence-data-to-a-reference-genome.html#read-groups"><i class="fa fa-check"></i><b>19.2</b> Read Groups</a></li>
<li class="chapter" data-level="19.3" data-path="alignment-of-sequence-data-to-a-reference-genome.html"><a href="alignment-of-sequence-data-to-a-reference-genome.html#merging-bam-files"><i class="fa fa-check"></i><b>19.3</b> Merging BAM files</a></li>
<li class="chapter" data-level="19.4" data-path="alignment-of-sequence-data-to-a-reference-genome.html"><a href="alignment-of-sequence-data-to-a-reference-genome.html#divide-and-conquer-strategies"><i class="fa fa-check"></i><b>19.4</b> Divide and Conquer Strategies</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="variant-calling-with-gatk.html"><a href="variant-calling-with-gatk.html"><i class="fa fa-check"></i><b>20</b> Variant calling with GATK</a></li>
<li class="chapter" data-level="21" data-path="bioinformatics-for-rad-seq-data-with-and-without-a-reference-genome.html"><a href="bioinformatics-for-rad-seq-data-with-and-without-a-reference-genome.html"><i class="fa fa-check"></i><b>21</b> Bioinformatics for RAD seq data with and without a reference genome</a></li>
<li class="chapter" data-level="22" data-path="processing-amplicon-sequencing-data.html"><a href="processing-amplicon-sequencing-data.html"><i class="fa fa-check"></i><b>22</b> Processing amplicon sequencing data</a></li>
<li class="chapter" data-level="23" data-path="genome-annotation.html"><a href="genome-annotation.html"><i class="fa fa-check"></i><b>23</b> Genome Annotation</a></li>
<li class="chapter" data-level="24" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html"><i class="fa fa-check"></i><b>24</b> Whole genome alignment strategies</a><ul>
<li class="chapter" data-level="24.1" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html#mapping-of-scaffolds-to-a-closely-related-genome"><i class="fa fa-check"></i><b>24.1</b> Mapping of scaffolds to a closely related genome</a></li>
<li class="chapter" data-level="24.2" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html#obtaining-ancestral-states-from-an-outgroup-genome"><i class="fa fa-check"></i><b>24.2</b> Obtaining Ancestral States from an Outgroup Genome</a><ul>
<li class="chapter" data-level="24.2.1" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html#using-lastz-to-align-coho-to-the-chinook-genome"><i class="fa fa-check"></i><b>24.2.1</b> Using LASTZ to align coho to the chinook genome</a></li>
<li class="chapter" data-level="24.2.2" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html#try-on-the-chinook-chromosomes"><i class="fa fa-check"></i><b>24.2.2</b> Try on the chinook chromosomes</a></li>
<li class="chapter" data-level="24.2.3" data-path="whole-genome-alignment-strategies.html"><a href="whole-genome-alignment-strategies.html#explore-the-other-parameters-more"><i class="fa fa-check"></i><b>24.2.3</b> Explore the other parameters more</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Part IV: Analysis of Big Variant Data</b></span></li>
<li class="chapter" data-level="25" data-path="bioinformatic-analysis-on-variant-data.html"><a href="bioinformatic-analysis-on-variant-data.html"><i class="fa fa-check"></i><b>25</b> Bioinformatic analysis on variant data</a></li>
<li class="part"><span><b>V Part V: Population Genomics</b></span></li>
<li class="chapter" data-level="26" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html"><i class="fa fa-check"></i><b>26</b> Topics in pop gen</a><ul>
<li class="chapter" data-level="26.1" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#coalescent"><i class="fa fa-check"></i><b>26.1</b> Coalescent</a></li>
<li class="chapter" data-level="26.2" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#measures-of-genetic-diversity-and-such"><i class="fa fa-check"></i><b>26.2</b> Measures of genetic diversity and such</a></li>
<li class="chapter" data-level="26.3" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#demographic-inference-with-partial-a-partial-i-and-moments"><i class="fa fa-check"></i><b>26.3</b> Demographic inference with <span class="math inline">\(\partial a \partial i\)</span> and <em>moments</em></a></li>
<li class="chapter" data-level="26.4" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#balls-in-boxes"><i class="fa fa-check"></i><b>26.4</b> Balls in Boxes</a></li>
<li class="chapter" data-level="26.5" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#some-landscape-genetics"><i class="fa fa-check"></i><b>26.5</b> Some landscape genetics</a></li>
<li class="chapter" data-level="26.6" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#relationship-inference"><i class="fa fa-check"></i><b>26.6</b> Relationship Inference</a></li>
<li class="chapter" data-level="26.7" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#tests-for-selection"><i class="fa fa-check"></i><b>26.7</b> Tests for Selection</a></li>
<li class="chapter" data-level="26.8" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#multivariate-associations-gea-etc."><i class="fa fa-check"></i><b>26.8</b> Multivariate Associations, GEA, etc.</a></li>
<li class="chapter" data-level="26.9" data-path="topics-in-pop-gen.html"><a href="topics-in-pop-gen.html#estimating-heritability-in-the-wild"><i class="fa fa-check"></i><b>26.9</b> Estimating heritability in the wild</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Practical Computing and Bioinformatics for Conservation and Evolutionary Genomics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-on-remote-servers" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Working on remote servers</h1>
<div id="accessing-remote-computers" class="section level2">
<h2><span class="header-section-number">7.1</span> Accessing remote computers</h2>
<p>The primary protocol for accessing remote computers in this day and age
is <code>ssh</code> which stands for “Secure Shell.” In the protocol, your computer
and the remote computer talk to one another and then choose to have a “shared
secret” which they can use as a key to encrypt data traffic from one to the other.
The amazing thing is that the two computers can actually tell each other what
that shared secret is by having a conversation “in the open” with one another.
That is a topic for another day, but if you are interested, you could
read about it <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">here</a>.</p>
<p>At any rate, the SSH protocal allows for secure access to a remote server. It involves
using a username and a password, and, in many cases today, some form of two-factor
authentication (i.e., you need to have your phone involved, too!). Different
remote servers have different routines for logging in to them, and they are also
all configured a little differently. The main servers we are concerned about in
these teaching materials are:</p>
<ol style="list-style-type: decimal">
<li>The Hummingbird cluster at UCSC, which is accessible by anyone with a UCSC blue username/password.</li>
<li>The Summit Supercomputer at CU Boulder which is accessible by all graduate students and
faculty at CSU.</li>
<li>The Sedna cluster housed at the National Marine Fisheries Service, Northwest Fisheries Science
Center. This is accessible only by those Federal NMFS employees whom have been granted access.</li>
</ol>
<p>Happily, all of these systems use SLURM for job scheduling (much more about that in the
next chapter); however are a few vagaries to each of these systems that we will cover below.</p>
<div id="windows" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Windows</h3>
<p>If you are on a Windows machine, you can use the <code>ssh</code> utility from your Git Bash shell, but
that is a bit of a hassle from RStudio. And a better terminal emulator is available if you
are going to be accessing remote computers. It is recommended that you install and
use the program <a href="https://www.ssh.com/ssh/putty">PuTTy</a>. The steps are pretty self-explanatory
and well documented. Instead of using <code>ssh</code> on a command line you put a host name into
a dialog box, etc.</p>
</div>
<div id="hummingbird" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Hummingbird</h3>
<p>Directions for UCSC students and staff to login to Hummingbird are available
at <a href="https://www.hb.ucsc.edu/getting-started/">https://www.hb.ucsc.edu/getting-started/</a>.
If you are not on the UCSC campus network, you need to use the UCSC VPN to connect.</p>
<p>By default, this cluster uses <code>tcsh</code> for a shell rather than <code>bash</code>. To keep things
consistent with what you have learned about <code>bash</code>, you will want to automatically switch
to <code>bash</code> upon login. You can do this by adding a file <code>~/.tcshrc</code> whose contents are:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="ex">setenv</span> SHELL /usr/bin/bash</a>
<a class="sourceLine" id="cb175-2" data-line-number="2"><span class="bu">exec</span> /usr/bin/bash --login</a></code></pre></div>
<p>Then, configure your <code>bash</code> environment with your <code>~/.bashrc</code> and <code>~/.bash_profile</code> as
described in Chapter <a href="essential-unixlinux-terminal-knowledge.html#unix-env">4.5</a>.</p>
<p>The <code>tmux</code> settings (See section <a href="working-on-remote-servers.html#tmux">7.3</a>) in hummingbird are a little messed up as well, making
it hard to set window names that don’t get changed the moment you make another command. Therefore,
you must make a file called <code>~/.tmux.conf</code> and put this line in it:</p>
<pre><code>set-option -g allow-rename off</code></pre>
</div>
<div id="summit" class="section level3">
<h3><span class="header-section-number">7.1.3</span> Summit</h3>
<p>To get an account on Summit, see <a href="https://www.acns.colostate.edu/hpc/summit-get-started/">https://www.acns.colostate.edu/hpc/summit-get-started/</a>. Account creation is automatic for graduate students and faculty. This setup requires
that you get an app called Duo on your phone for doing two-factor authentication.</p>
<p>Instructions for logging into Summit are at <a href="https://www.acns.colostate.edu/hpc/#remote-login">https://www.acns.colostate.edu/hpc/#remote-login</a>.</p>
<p>On your local machine (i.e., laptop), you might consider adding an alias to your
<code>.bashrc</code> that will let you type <code>summit</code> to issue the login command. For example:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="bu">alias</span> summit=<span class="st">&#39;ssh csu_eid@colostate.edu@login.rc.colorado.edu&#39;</span></a></code></pre></div>
<p>where you replace <code>csu_eid</code> with your actual CSU eID.</p>
</div>
<div id="sedna" class="section level3">
<h3><span class="header-section-number">7.1.4</span> Sedna</h3>
<p>To connect to this cluster you must be on the NMFS network, or
connected to it via the VPN, then <code>ssh</code> with, for example:</p>
<pre><code>ssh eanderson@sedna.nwfsc2.noaa.gov</code></pre>
<p>but using your own username.</p>
</div>
</div>
<div id="transferring-files-to-remote-computers" class="section level2">
<h2><span class="header-section-number">7.2</span> Transferring files to remote computers</h2>
<div id="sftp" class="section level3">
<h3><span class="header-section-number">7.2.1</span> sftp</h3>
</div>
<div id="git" class="section level3">
<h3><span class="header-section-number">7.2.2</span> git</h3>
<p>Most remote servers you work on will have <code>git</code> by default.
If you are doing all your work on a project within a single
repository, you can use <code>git</code> to keep scripts and other files
version-controlled on the server. You can also push and pull files
(not big data or output files!) to GitHub, thus keeping things backed up
and version controlled, and providing a useful way to synchronize scripts
and other files in your project between the server and your laptop.</p>
<p>Example:</p>
<ol style="list-style-type: decimal">
<li>write and test scripts on your laptop in a repo called <code>my-project</code></li>
<li>commit scripts on your laptop and push them to GitHub in a repo also
called <code>my-project</code></li>
<li>pull <code>my-project</code> from GitHub to the server.</li>
<li>Try running your scripts in <code>my-project</code> on your server. In the process,
you may discover that you need to change/fix some things so they will
run correctly on the server. Fix them!</li>
<li>Once things are fixed and successfully running on the server, commit
those changes and push them to GitHub.</li>
<li>Update the files on your laptop so that they reflect the changes you
had to make on the server, by pulling <code>my-project</code> from GitHub to your
laptop.</li>
</ol>
<div id="configuring-git-on-the-remote-server" class="section level4">
<h4><span class="header-section-number">7.2.2.1</span> Configuring git on the remote server</h4>
<p>In order to make this sort of worklow successful, you first need
to ensure that you have set up git on your remote server. Doing
so involves:</p>
<ol style="list-style-type: decimal">
<li>establishing your name and email that will be used with your git commits
made from the server.</li>
<li>Ensuring that git password caching is set up so you don’t always have
to type your GitHub password when you push and pull.</li>
<li>configuring your git text editor to be something that you know how
to use.</li>
</ol>
<p>It can be useful give yourself a git name on the server that reflects
the fact that the changes you are committing were made on the server.</p>
<p>For example, for my own setup on the Summit cluster at Boulder, I might
do my git configurations by issuing these commands on the
command line on the server:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="fu">git</span> config --global user.name <span class="st">&quot;Eric C. Anderson (From Summit)&quot;</span></a>
<a class="sourceLine" id="cb179-2" data-line-number="2"><span class="fu">git</span> config --global user.email eriq@rams.colostate.edu</a>
<a class="sourceLine" id="cb179-3" data-line-number="3"><span class="fu">git</span> config --global credential.helper cache</a>
<a class="sourceLine" id="cb179-4" data-line-number="4"><span class="fu">git</span> config --global core.editor nano</a></code></pre></div>
<p>In all actuality, I would set my editor to be <code>vim</code> or <code>emacs</code>, because those are
more powerful editors and I am familiar with then; however, if you are new to Unix,
then <code>nano</code> is an easy-to-use editor.</p>
<p>You should set configurations on your server appropriate to yourself
(i.e., with your name and email and preferred text editor). Once these configurations are set, you are ready to start cloning
repositories from GitHub and then pushing and pulling them, as well.</p>
<p>To this point, we have always done those actions from within
RStudio. On a remote server, however, you will have to do all these
actions from the command line. That is OK, it just requires learning
a few new things.</p>
<p>The first, and most important, issue to understand is that if you want
to push new changes back to a repository that is on your GitHub account,
GitHub needs to know that you have privileges to do so. One way to
do this is by making sure, when you initially clone the repository,
that you do so whilst letting GitHub know that you are the user that
“owns” your GitHub account. This is done by inserting your GitHub
username into your <code>git clone</code> request with the following syntax:</p>
<pre><code>git clone https://username@github.com/username/repository.git</code></pre>
<p>For example, if I want to <code>clone</code> a repository whose URL is:</p>
<pre><code>https://github.com/eriqande/alignment-play</code></pre>
<p>I would issue this command:</p>
<pre><code>git clone https://eriqande@github.com/eriqande/alignment-play</code></pre>
<p>This clones the repository to my server, and makes
a note of the fact that you did so as the GitHub user <code>eriqande</code>,
so that if I try to push something back to that GitHub repository,
it will ask me for me proper <code>eriqande</code> GitHub password.</p>
</div>
<div id="using-git-on-the-remote-server" class="section level4">
<h4><span class="header-section-number">7.2.2.2</span> Using git on the remote server</h4>
<p>When on the server, you don’t have the convenient RStudio interface
to git, so you have to use git commands on the command line. Fortunately
these provide straightforward, command-line analogies to the RStudio
GUI git interface you have become familiar with.</p>
<p>Intead of having an RStudio Git panel that shows you files that are new or
have been modified, etc., you use <code>git status</code> in your repo to give
a text report of the same.</p>
For example, imagine that Figure <a href="working-on-remote-servers.html#fig:git-window">7.1</a> shows an RStudio project Git window describing the status of files in the repository.
<div class="figure" style="text-align: center"><span id="fig:git-window"></span>
<img src="figs/git-window.png" alt="An example of what an RStudio git window might look like." width="482" />
<p class="caption">
FIGURE 7.1: An example of what an RStudio git window might look like.
</p>
</div>
<p>That view is merely showing you a graphical view of the output of
the <code>git status</code> command run at the top level of the repository which
looks like this:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb183-1" data-line-number="1"><span class="ex">%</span> git status</a>
<a class="sourceLine" id="cb183-2" data-line-number="2"><span class="ex">On</span> branch master</a>
<a class="sourceLine" id="cb183-3" data-line-number="3"><span class="ex">Changes</span> not staged for commit:</a>
<a class="sourceLine" id="cb183-4" data-line-number="4">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="kw">)</span></a>
<a class="sourceLine" id="cb183-5" data-line-number="5">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="kw">)</span></a>
<a class="sourceLine" id="cb183-6" data-line-number="6"></a>
<a class="sourceLine" id="cb183-7" data-line-number="7">    <span class="ex">modified</span>:   .gitignore</a>
<a class="sourceLine" id="cb183-8" data-line-number="8">    <span class="ex">modified</span>:   002-homeologue-permutation-with-bedr.Rmd</a>
<a class="sourceLine" id="cb183-9" data-line-number="9"></a>
<a class="sourceLine" id="cb183-10" data-line-number="10"><span class="ex">Untracked</span> files:</a>
<a class="sourceLine" id="cb183-11" data-line-number="11">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="kw">)</span></a>
<a class="sourceLine" id="cb183-12" data-line-number="12"></a>
<a class="sourceLine" id="cb183-13" data-line-number="13">    <span class="ex">002-homeologue-permutation-with-bedr.nb.html</span></a>
<a class="sourceLine" id="cb183-14" data-line-number="14">    <span class="ex">data/</span></a>
<a class="sourceLine" id="cb183-15" data-line-number="15">    <span class="ex">mykiss-rad-project-with-mac-and-devon.Rproj</span></a>
<a class="sourceLine" id="cb183-16" data-line-number="16">    <span class="ex">reconcile/</span></a>
<a class="sourceLine" id="cb183-17" data-line-number="17"></a>
<a class="sourceLine" id="cb183-18" data-line-number="18"><span class="ex">no</span> changes added to commit (use <span class="st">&quot;git add&quot;</span> and/or <span class="st">&quot;git commit -a&quot;</span>)</a></code></pre></div>
<p>Aha! Be sure to read that and understand that the output tells you which
files are tracked by git and Modified (blue M in RStudio) and which
are untracked (Yellow ? in RStudio).</p>
<p>Of you wanted to see a report of the changes in the files relative
to the currently committed version, you could use <code>git diff</code>, passing
it the file name as an argument. We will see an example of that below…</p>
Now, recall, that in order to commit files to <code>git</code> you first must
<em>stage</em> them. In RStudio you do that by clicking the little button to
the left of the file or directory in the Git window. For example,
if we clicked the buttons for the <code>data/</code> directory, as well as for
<code>.gitignore</code> and <code>002-homeologue-permutation-with-bedr.Rmd</code>, we would
have staged them and it would look like Figure <a href="working-on-remote-servers.html#fig:git-staged">7.2</a>.
<div class="figure" style="text-align: center"><span id="fig:git-staged"></span>
<img src="figs/git-staged.png" alt="An example of what an RStudio git window might look like." width="483" />
<p class="caption">
FIGURE 7.2: An example of what an RStudio git window might look like.
</p>
</div>
<p>In order to do the equivalent operations with <code>git</code> on the command line
you would use the <code>git add</code> command, explicitly naming the files you wish to
<em>stage</em> for committing:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb184-1" data-line-number="1"><span class="fu">git</span> add .gitignore 002-homeologue-permutation-with-bedr.Rmd data</a></code></pre></div>
<p>Now, if you check <code>git status</code> you will see:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb185-1" data-line-number="1"><span class="ex">%</span> git status</a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="ex">On</span> branch master</a>
<a class="sourceLine" id="cb185-3" data-line-number="3"><span class="ex">Changes</span> to be committed:</a>
<a class="sourceLine" id="cb185-4" data-line-number="4">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="kw">)</span></a>
<a class="sourceLine" id="cb185-5" data-line-number="5"></a>
<a class="sourceLine" id="cb185-6" data-line-number="6">    <span class="ex">modified</span>:   .gitignore</a>
<a class="sourceLine" id="cb185-7" data-line-number="7">    <span class="ex">modified</span>:   002-homeologue-permutation-with-bedr.Rmd</a>
<a class="sourceLine" id="cb185-8" data-line-number="8">    <span class="ex">new</span> file:   data/Pearse_Barson_etal_Supp_Table_7.tsv</a>
<a class="sourceLine" id="cb185-9" data-line-number="9">    <span class="ex">new</span> file:   data/high-fst-rad-locus-indices.txt</a>
<a class="sourceLine" id="cb185-10" data-line-number="10"></a>
<a class="sourceLine" id="cb185-11" data-line-number="11"><span class="ex">Untracked</span> files:</a>
<a class="sourceLine" id="cb185-12" data-line-number="12">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="kw">)</span></a>
<a class="sourceLine" id="cb185-13" data-line-number="13"></a>
<a class="sourceLine" id="cb185-14" data-line-number="14">    <span class="ex">002-homeologue-permutation-with-bedr.nb.html</span></a>
<a class="sourceLine" id="cb185-15" data-line-number="15">    <span class="ex">mykiss-rad-project-with-mac-and-devon.Rproj</span></a>
<a class="sourceLine" id="cb185-16" data-line-number="16">    <span class="ex">reconcile/</span></a></code></pre></div>
<p>It tells you which files are ready to be committed!</p>
<p>In order to commit the files to git you do:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb186-1" data-line-number="1"><span class="fu">git</span> commit</a></code></pre></div>
<p>And then, to push them back to GitHub (if you cloned this repository
from GitHub), you can simply do:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb187-1" data-line-number="1"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>That syntax is telling git to push the <code>master</code> branch (which is
the default branch in a git repository), to the repository labeled as
<code>origin</code>, which will be the GitHub repository if you cloned the repository
from GitHub. (If you are working with a different git branch than master,
you would need to specify its name here. That is not difficult, but is
beyond the scope of this chapter.)</p>
<p>Now, assuming that we cloned the <code>alignment-play</code> repository to our
server, here are the steps involved in editing a file, committing the
changes, and then pushing them back to GitHub. The command in the following
is written as <code>[alignment-play]--%</code> which is telling us that we are in the
<code>alignment-play</code> repository.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb188-1" data-line-number="1"><span class="co"># check git status</span></a>
<a class="sourceLine" id="cb188-2" data-line-number="2">[<span class="ex">alignment-play</span>]--% git status</a>
<a class="sourceLine" id="cb188-3" data-line-number="3"></a>
<a class="sourceLine" id="cb188-4" data-line-number="4"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb188-5" data-line-number="5"><span class="ex">nothing</span> to commit, working directory clean</a>
<a class="sourceLine" id="cb188-6" data-line-number="6"></a>
<a class="sourceLine" id="cb188-7" data-line-number="7"><span class="co"># Aha! That says nothing has been modified.</span></a>
<a class="sourceLine" id="cb188-8" data-line-number="8"><span class="co"># But, now we edit the file alignment-play.Rmd</span></a>
<a class="sourceLine" id="cb188-9" data-line-number="9">[<span class="ex">alignment-play</span>]--% nano alignment-play.Rmd</a>
<a class="sourceLine" id="cb188-10" data-line-number="10"></a>
<a class="sourceLine" id="cb188-11" data-line-number="11"><span class="co"># In this case I merely added a line to the YAML header.</span></a>
<a class="sourceLine" id="cb188-12" data-line-number="12"></a>
<a class="sourceLine" id="cb188-13" data-line-number="13"><span class="co"># Now, check status of the files:</span></a>
<a class="sourceLine" id="cb188-14" data-line-number="14">[<span class="ex">alignment-play</span>]--% git status</a>
<a class="sourceLine" id="cb188-15" data-line-number="15"></a>
<a class="sourceLine" id="cb188-16" data-line-number="16"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb188-17" data-line-number="17"><span class="co"># Changes not staged for commit:</span></a>
<a class="sourceLine" id="cb188-18" data-line-number="18"><span class="co">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span></a>
<a class="sourceLine" id="cb188-19" data-line-number="19"><span class="co">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span></a>
<a class="sourceLine" id="cb188-20" data-line-number="20"><span class="co">#</span></a>
<a class="sourceLine" id="cb188-21" data-line-number="21"><span class="co">#   modified:   alignment-play.Rmd</span></a>
<a class="sourceLine" id="cb188-22" data-line-number="22"><span class="co">#</span></a>
<a class="sourceLine" id="cb188-23" data-line-number="23"><span class="ex">no</span> changes added to commit (use <span class="st">&quot;git add&quot;</span> and/or <span class="st">&quot;git commit -a&quot;</span>)</a>
<a class="sourceLine" id="cb188-24" data-line-number="24"></a>
<a class="sourceLine" id="cb188-25" data-line-number="25"><span class="co"># We see that the file has been modified.</span></a>
<a class="sourceLine" id="cb188-26" data-line-number="26"></a>
<a class="sourceLine" id="cb188-27" data-line-number="27"><span class="co"># Now we can use git diff to see what the changes were</span></a>
<a class="sourceLine" id="cb188-28" data-line-number="28">[<span class="ex">alignment-play</span>]--% git diff alignment-play.Rmd </a>
<a class="sourceLine" id="cb188-29" data-line-number="29"></a>
<a class="sourceLine" id="cb188-30" data-line-number="30"><span class="fu">diff</span> --git a/alignment-play.Rmd b/alignment-play.Rmd</a>
<a class="sourceLine" id="cb188-31" data-line-number="31"><span class="ex">index</span> 9f75ebb..b389fae 100644</a>
<a class="sourceLine" id="cb188-32" data-line-number="32"><span class="ex">---</span> a/alignment-play.Rmd</a>
<a class="sourceLine" id="cb188-33" data-line-number="33"><span class="ex">+++</span> b/alignment-play.Rmd</a>
<a class="sourceLine" id="cb188-34" data-line-number="34"><span class="ex">@@</span> -3,6 +3,7 @@ title: <span class="st">&quot;Alignment Play!&quot;</span></a>
<a class="sourceLine" id="cb188-35" data-line-number="35"> <span class="ex">output</span>: </a>
<a class="sourceLine" id="cb188-36" data-line-number="36">   <span class="ex">html_notebook</span>:</a>
<a class="sourceLine" id="cb188-37" data-line-number="37">     <span class="ex">toc</span>: true</a>
<a class="sourceLine" id="cb188-38" data-line-number="38"><span class="ex">+</span>    toc_float: true</a>
<a class="sourceLine" id="cb188-39" data-line-number="39"> <span class="ex">---</span></a>
<a class="sourceLine" id="cb188-40" data-line-number="40"> </a>
<a class="sourceLine" id="cb188-41" data-line-number="41"><span class="co"># The output above is a little hard to parse, but it shows</span></a>
<a class="sourceLine" id="cb188-42" data-line-number="42"><span class="co"># the line that has been added: &quot;  toc_float: true&quot; with a</span></a>
<a class="sourceLine" id="cb188-43" data-line-number="43"><span class="co"># &quot;+&quot; sign.</span></a>
<a class="sourceLine" id="cb188-44" data-line-number="44"></a>
<a class="sourceLine" id="cb188-45" data-line-number="45"><span class="co"># In order to commit the changes, we do:</span></a>
<a class="sourceLine" id="cb188-46" data-line-number="46">[<span class="ex">alignment-play</span>]--% git add alignment-play.Rmd </a>
<a class="sourceLine" id="cb188-47" data-line-number="47">[<span class="ex">alignment-play</span>]--% git commit</a>
<a class="sourceLine" id="cb188-48" data-line-number="48"></a>
<a class="sourceLine" id="cb188-49" data-line-number="49"><span class="co"># after that, we are bumped into the nano text editor</span></a>
<a class="sourceLine" id="cb188-50" data-line-number="50"><span class="co"># to write a short message about the commit. After exiting</span></a>
<a class="sourceLine" id="cb188-51" data-line-number="51"><span class="co"># from the editor, it tells us:</span></a>
<a class="sourceLine" id="cb188-52" data-line-number="52">[<span class="ex">master</span> 001e650] yaml change</a>
<a class="sourceLine" id="cb188-53" data-line-number="53"> <span class="ex">1</span> file changed, 1 insertion(+)</a>
<a class="sourceLine" id="cb188-54" data-line-number="54"> </a>
<a class="sourceLine" id="cb188-55" data-line-number="55"><span class="co"># Now, to send that new commit to GitHub, we use git push origin master</span></a>
<a class="sourceLine" id="cb188-56" data-line-number="56">[<span class="ex">alignment-play</span>]--% git push origin master</a>
<a class="sourceLine" id="cb188-57" data-line-number="57"><span class="ex">Password</span> for <span class="st">&#39;https://eriqande@github.com&#39;</span>:</a>
<a class="sourceLine" id="cb188-58" data-line-number="58"></a>
<a class="sourceLine" id="cb188-59" data-line-number="59"><span class="ex">Counting</span> objects: 5, done.</a>
<a class="sourceLine" id="cb188-60" data-line-number="60"><span class="ex">Delta</span> compression using up to 24 threads.</a>
<a class="sourceLine" id="cb188-61" data-line-number="61"><span class="ex">Compressing</span> objects: 100% (3/3), <span class="kw">done</span><span class="ex">.</span></a>
<a class="sourceLine" id="cb188-62" data-line-number="62"><span class="ex">Writing</span> objects: 100% (3/3), <span class="ex">325</span> bytes <span class="kw">|</span> <span class="ex">0</span> bytes/s, done.</a>
<a class="sourceLine" id="cb188-63" data-line-number="63"><span class="ex">Total</span> 3 (delta 2), <span class="ex">reused</span> 0 (delta 0)</a>
<a class="sourceLine" id="cb188-64" data-line-number="64"><span class="ex">remote</span>: Resolving deltas: 100% (2/2), <span class="ex">completed</span> with 2 local objects.</a>
<a class="sourceLine" id="cb188-65" data-line-number="65"><span class="ex">To</span> https://eriqande@github.com/eriqande/alignment-play</a>
<a class="sourceLine" id="cb188-66" data-line-number="66">   <span class="ex">0c1707f..001e650</span>  master -<span class="op">&gt;</span> master</a></code></pre></div>
<p>When pushing to a GitHub repository for the first
time from your remote server you
will be asked for your GitHub password. Once you have successfully
provided your password, if you set password caching up correctly, then
you should not have to provide your password for subsequent pushes.</p>
<p>Finally, if after pushing those changes to GitHub, we then pull them
down to our laptop, and make more changes on top of them and push those
back to GitHub, we can retrieve from GitHub to the server those changes we
made on our laptop with <code>git pull origin master</code>. In other words, from the
server we simply issue the command:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb189-1" data-line-number="1">[<span class="ex">alignment-play</span>]--% git pull origin master</a></code></pre></div>
</div>
</div>
<div id="globus" class="section level3">
<h3><span class="header-section-number">7.2.3</span> Globus</h3>
</div>
<div id="interfacing-with-the-cloud" class="section level3">
<h3><span class="header-section-number">7.2.4</span> Interfacing with “The Cloud”</h3>
<p>Increasingly, data scientists and tech companies alike are keeping their
data “in the cloud.” This means that they
pay a large tech firm like Amazon, Dropbox, or Google to store their data for them in
a place that can be accessed via the internet. There are many advantages to this
model. For one thing, the company that serves the data often will create multiple copies
of the data for backup and redundancy: a fire in a single data center is not a calamity
because the data are also stored elsewhere, and can often be accessed seamlessly from those
other locations with no apparent disruption of service. For another, companies that are
in the business of storing and serving
data to multiple clients have data centers that are well-networked, so that getting
data onto and off of their storage systems can be done very quickly over the internet
by an end-user with a good internet connection.</p>
<p>Five years ago, the idea of storing next generation sequencing data might have
sounded a little
crazy—it always seemed a laborious task getting the data off of the remote server at the
sequencing center, so why not just keep the data in-house once you have it?
To be sure, keeping a copy of your
data in-house still can make sense for long-term data archiving needs, but, today, cloud
storage for your sequencing data can make a lot of sense. A few reasons are:</p>
<ol style="list-style-type: decimal">
<li>Transferring your data from the cloud to the remote HPC system
that you use to process the data can be very fast.</li>
<li>As above, your data can be redundantly backed up.</li>
<li>If your institution (university, agency, etc.) has an agreement with a cloud storage
service that provides you with unlimited storage and free network access, then storing
your sequencing data in the cloud will cost considerably less than buying a dedicated
large system of hard drives for data backup. (One must wonder if service
agreements might not be at risk of renegotiation if many researchers start using their
unlimited institutional cloud storage space to store and/or archive their
next generation sequencing data sets. My own agency’s contract with Google runs
through 2021…but I have to think that these services are making plenty of money, even
if a handful of researchers store big sequence data in the cloud. Nonetheless, you
should be careful not to put multiple copies of data sets, or intermediate files that
are easily regenerated, up in the cloud.)</li>
<li>If you are a PI with many lab members wishing to access the same data set, or even if
you are just a regular Joe/Joanna researcher but you wish to share your data, it is
possible to effect that using your cloud service’s sharing settings. We will discuss
how to do this with Google Drive.</li>
</ol>
<p>There are clearly advantages to using the cloud, but one small hurdle remains. Most
of the time, working in an HPC environment, we are using Unix, which provides a consistent
set of tools for interfacing with other computers using SSH-based protocols (like <code>scp</code>
for copying files from one remote computer to another). Unfortunately, many common
cloud storage services do not offer an SSH based interface. Rather, they typically process
requests from clients using an HTTPS protocol. This protocol, which effectively runs the
world-wide web, is a natural choice for cloud services that most people will access
using a web browser; however, Unix does not traditionally come with a utility or command
to easily process the types of HTTPS transactions needed to network with
cloud storage. Furthermore, there must be some security when it comes to accessing
your cloud-based storage—you don’t want everyone to be able to access your files, so
your cloud service needs to have some way of authenticating people
(you and your labmates for example) that are authorized to access your data.</p>
<p>These problems have been overcome by a utility called <code>rclone</code>, the product of a
comprehensive open-source software project that brings the functionality of the
<code>rsync</code> utility (a common Unix tool used to synchronize and mirror file systems)
to cloud-based storage. (Note: <code>rclone</code> has nothing to do with the R programming
language, despite its name that looks like an R package.)
Currently <code>rclone</code> provides a consistent interface for accessing
files from over 35 different cloud storage providers, including Box, Dropbox, Google Drive,
and Microsoft OneDrive. Binaries for <code>rclone</code> can be downloaded for your desktop
machine from <a href="https://rclone.org/downloads/">https://rclone.org/downloads/</a>. We will
talk about how to install it on your HPC system later.</p>
<p>Once <code>rclone</code> is installed and in your <code>PATH</code>, you invoke it in your terminal
with the command <code>rclone</code>. Before we get into the details of the various <code>rclone</code> subcommands,
it will be helpful to take a glance at the information <code>rclone</code> records when it
configures itself to talk to your cloud service. To do so, it creates a file called <code>~/.config/rclone/rclone.conf</code>, where it stores information about all the different
connections to cloud services you have set up. For example, that
file on my system looks like this:</p>
<pre><code>[gdrive-rclone]
type = drive
scope = drive
root_folder_id = 1I2EDV465N5732Tx1FFAiLWOqZRJcAzUd
token = {&quot;access_token&quot;:&quot;bs43.94cUFOe6SjjkofZ&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;refresh_token&quot;:&quot;1/MrtfsRoXhgc&quot;,&quot;expiry&quot;:&quot;2019-04-29T22:51:58.148286-06:00&quot;}
client_id = 2934793-oldk97lhld88dlkh301hd.apps.googleusercontent.com
client_secret = MMq3jdsjdjgKTGH4rNV_y-NbbG</code></pre>
<p>In this configuration:</p>
<ul>
<li><code>gdrive-rclone</code> is the name by which rclone refers to this cloud storage location</li>
<li><code>root_folder_id</code> is the ID of the Google Drive folder that can be thought of as the root directory of <code>gdrive-rclone</code>. This ID is not the simple name of that directory on
your Google Drive, rather it is the unique name given by Google Drive to that directory.
You can see it by navigating in your browser to the directory you want and finding it
after the last slash in the URL. For example, in the above case, the URL is:
<code>https://drive.google.com/drive/u/1/folders/1I2EDV465N5732Tx1FFAiLWOqZRJcAzUd</code></li>
<li><code>client_id</code> and <code>client_secret</code> are like a username and a shared secret that <code>rclone</code> uses
to authenticate the user to Google Drive as who they say they are.</li>
<li><code>token</code> are the credentials used by <code>rclone</code> to make requests of Google Drive on the basis
of the user.</li>
</ul>
<p>Note: the above does not include my
real credentials, as then anyone could use them to access my Google Drive!</p>
<p>To set up your own configuration file to use Google Drive, you will use the <code>rclone config</code>
command, but before you do that, you will want to wrangle a client_id from Google. Follow
the directions at <a href="https://rclone.org/drive/#making-your-own-client-id">https://rclone.org/drive/#making-your-own-client-id</a>. Things are a little different from in their step
by step, but you can muddle through to get to a screen with a client_ID and a client
secret that you can copy onto your clipboard.</p>
<p>Once you have done that, then run <code>rclone config</code> and follow the prompts. A
typical session of <code>rclone config</code> for Google Drive access is given
<a href="https://rclone.org/drive/">here</a>. Don’t choose to do the advanced setup; however
do use “auto config,” which will bounce up a web page and let you authenticate rclone
to your Google account.</p>
<p>It is worthwhile first setting up a config file on your laptop, and making sure
that it is working. After that, you can copy that config file to other remote
servers you work on and immediately have the same functionality.</p>
<div id="encrypting-your-config-file" class="section level4">
<h4><span class="header-section-number">7.2.4.1</span> Encrypting your config file</h4>
<p>While it is a powerful thing to be able to copy a config file from
one computer to the next and immediately be able to access your Google
Drive account. That might (and should) also make you a little bit
uneasy. It means that if the config file falls into the wrong hands,
whoever has it can gain access to everything on your Google Drive. Clearly
this is not good. Consequently, once you have created your rclone config
file, and well before you transfer it to another computer, you must
encrypt it. This makes sense, and fortunately it is fairly easy: you can
use <code>rclone config</code> and see that encryption is one of
the options. When it is encrypted, use <code>rclone config show</code> to see what
it looks like in clear text.</p>
<p>The downside of using encryption is that you have to enter your password
every time you make an rclone command, but it is worth it to have the
security.</p>
<p>Here is what it looks like when choosing to encrypt one’s config file:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="ex">%</span> rclone config</a>
<a class="sourceLine" id="cb191-2" data-line-number="2"><span class="ex">Current</span> remotes:</a>
<a class="sourceLine" id="cb191-3" data-line-number="3"></a>
<a class="sourceLine" id="cb191-4" data-line-number="4"><span class="ex">Name</span>                 Type</a>
<a class="sourceLine" id="cb191-5" data-line-number="5">====                 ====</a>
<a class="sourceLine" id="cb191-6" data-line-number="6"><span class="ex">gdrive-rclone</span>        drive</a>
<a class="sourceLine" id="cb191-7" data-line-number="7"></a>
<a class="sourceLine" id="cb191-8" data-line-number="8"><span class="ex">e</span>) <span class="ex">Edit</span> existing remote</a>
<a class="sourceLine" id="cb191-9" data-line-number="9"><span class="ex">n</span>) <span class="ex">New</span> remote</a>
<a class="sourceLine" id="cb191-10" data-line-number="10"><span class="ex">d</span>) <span class="ex">Delete</span> remote</a>
<a class="sourceLine" id="cb191-11" data-line-number="11"><span class="ex">r</span>) <span class="ex">Rename</span> remote</a>
<a class="sourceLine" id="cb191-12" data-line-number="12"><span class="ex">c</span>) <span class="ex">Copy</span> remote</a>
<a class="sourceLine" id="cb191-13" data-line-number="13"><span class="ex">s</span>) <span class="ex">Set</span> configuration password</a>
<a class="sourceLine" id="cb191-14" data-line-number="14"><span class="ex">q</span>) <span class="ex">Quit</span> config</a>
<a class="sourceLine" id="cb191-15" data-line-number="15"><span class="ex">e/n/d/r/c/s</span>/<span class="ex">q</span><span class="op">&gt;</span> s </a>
<a class="sourceLine" id="cb191-16" data-line-number="16"><span class="ex">Your</span> configuration is not encrypted.</a>
<a class="sourceLine" id="cb191-17" data-line-number="17"><span class="ex">If</span> you add a password, you will protect your login information to cloud services.</a>
<a class="sourceLine" id="cb191-18" data-line-number="18"><span class="ex">a</span>) <span class="ex">Add</span> Password</a>
<a class="sourceLine" id="cb191-19" data-line-number="19"><span class="ex">q</span>) <span class="ex">Quit</span> to main menu</a>
<a class="sourceLine" id="cb191-20" data-line-number="20"><span class="ex">a</span>/<span class="ex">q</span><span class="op">&gt;</span> a</a>
<a class="sourceLine" id="cb191-21" data-line-number="21"><span class="ex">Enter</span> NEW configuration password:</a>
<a class="sourceLine" id="cb191-22" data-line-number="22"><span class="ex">password</span>:</a>
<a class="sourceLine" id="cb191-23" data-line-number="23"><span class="ex">Confirm</span> NEW configuration password:</a>
<a class="sourceLine" id="cb191-24" data-line-number="24"><span class="ex">password</span>:</a>
<a class="sourceLine" id="cb191-25" data-line-number="25"><span class="ex">Password</span> set</a>
<a class="sourceLine" id="cb191-26" data-line-number="26"><span class="ex">Your</span> configuration is encrypted.</a>
<a class="sourceLine" id="cb191-27" data-line-number="27"><span class="ex">c</span>) <span class="ex">Change</span> Password</a>
<a class="sourceLine" id="cb191-28" data-line-number="28"><span class="ex">u</span>) <span class="ex">Unencrypt</span> configuration</a>
<a class="sourceLine" id="cb191-29" data-line-number="29"><span class="ex">q</span>) <span class="ex">Quit</span> to main menu</a>
<a class="sourceLine" id="cb191-30" data-line-number="30"><span class="ex">c/u</span>/<span class="ex">q</span><span class="op">&gt;</span> q</a>
<a class="sourceLine" id="cb191-31" data-line-number="31"><span class="ex">Current</span> remotes:</a>
<a class="sourceLine" id="cb191-32" data-line-number="32"></a>
<a class="sourceLine" id="cb191-33" data-line-number="33"><span class="ex">Name</span>                 Type</a>
<a class="sourceLine" id="cb191-34" data-line-number="34">====                 ====</a>
<a class="sourceLine" id="cb191-35" data-line-number="35"><span class="ex">gdrive-rclone</span>        drive</a>
<a class="sourceLine" id="cb191-36" data-line-number="36"></a>
<a class="sourceLine" id="cb191-37" data-line-number="37"><span class="ex">e</span>) <span class="ex">Edit</span> existing remote</a>
<a class="sourceLine" id="cb191-38" data-line-number="38"><span class="ex">n</span>) <span class="ex">New</span> remote</a>
<a class="sourceLine" id="cb191-39" data-line-number="39"><span class="ex">d</span>) <span class="ex">Delete</span> remote</a>
<a class="sourceLine" id="cb191-40" data-line-number="40"><span class="ex">r</span>) <span class="ex">Rename</span> remote</a>
<a class="sourceLine" id="cb191-41" data-line-number="41"><span class="ex">c</span>) <span class="ex">Copy</span> remote</a>
<a class="sourceLine" id="cb191-42" data-line-number="42"><span class="ex">s</span>) <span class="ex">Set</span> configuration password</a>
<a class="sourceLine" id="cb191-43" data-line-number="43"><span class="ex">q</span>) <span class="ex">Quit</span> config</a>
<a class="sourceLine" id="cb191-44" data-line-number="44"><span class="ex">e/n/d/r/c/s</span>/<span class="ex">q</span><span class="op">&gt;</span> q</a></code></pre></div>
<p>Once that file is encrypted, you can copy it to other machines for use.</p>
</div>
<div id="basic-maneuvers" class="section level4">
<h4><span class="header-section-number">7.2.4.2</span> Basic Maneuvers</h4>
<p>The syntax for use is:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb192-1" data-line-number="1"><span class="ex">rclone</span> [options] subcommand  parameter1 [parameter 2...]</a></code></pre></div>
<p>The “subcommand” part tells <code>rclone</code> what you want to do, like <code>copy</code> or <code>sync</code>, and
the “parameter” part of the above syntax is typically a path
specification to a directory or a file. In using rclone to access the
cloud there is not a root directory, like <code>/</code> in Unix. Instead, each remote
cloud access point is treated as the root directory, and you refer to it
by the name of the configuration followed by a colon. In our example,
<code>gdrive-rclone:</code> is the root, and we don’t need to add a <code>/</code> after it to
start a path with it. Thus <code>gdrive-rclone:this_dir/that_dir</code> is a
valid path for <code>rclone</code> to a location on my Google Drive.</p>
<p>Very often when moving, copying, or syncing files, the parameters
consist of:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode s"><code class="sourceCode gnuassembler"><a class="sourceLine" id="cb193-1" data-line-number="1">source-directory  destination-directory</a></code></pre></div>
<p>One very important point is that, unlike the Unix commands <code>cp</code> and <code>mv</code>, rclone
likes to operate on directories, not on multiple named files.</p>
<p>A few key subcommands:</p>
<ul>
<li><code>ls</code>, <code>lsd</code>, and <code>lsl</code> are like <code>ls</code>, <code>ls -d</code> and <code>ls -l</code></li>
</ul>
<div class="sourceCode" id="cb194"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="ex">rclone</span>  lsd gdrive-rclone:</a>
<a class="sourceLine" id="cb194-2" data-line-number="2"><span class="ex">rclone</span>  lsd gdrive-rclone:NOFU</a></code></pre></div>
<ul>
<li><code>copy</code>: copy the <em>contents</em> of a source <em>directory</em> to a destination <em>directory</em>. One super cool
thing about this is that <code>rclone</code> won’t re-copy files that are already on the destination and which
are identical to those in the source directory.</li>
</ul>
<div class="sourceCode" id="cb195"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb195-1" data-line-number="1"><span class="ex">rclone</span> copy bams gdrive-rclone:NOFU/bams</a></code></pre></div>
<p>Note that the destination directory will be created if it does not already exist.<br />
- <code>sync</code>: make the contents of the destination directory look just like the
contents of the source directory. <em>WARNING</em> This will delete files in the destination
directory that do not appear in the source directory.</p>
<p>A few key options:</p>
<ul>
<li><code>--dry-run</code>: don’t actually copy, sync, or move anything. Just tell me what you would have done.</li>
<li><code>-P</code>, <code>-v</code>, <code>-vv</code>: give me progress information, verbose output, or super-verbose output, respectively.</li>
<li><code>--tpslimit 10</code>: don’t make any more than 10 transactions a second with Google Drive (should always be used when transferring files)</li>
<li><code>---fast-list</code>: combine multiple transactions together. Should always be used with Google Drive,
especially when handling lots of files.</li>
<li><code>--drive-shared-with-me</code>: make the “root” directory a directory that shows all
of the Google Drive folders that people have shared with you. This is key for accessing
folders that have been shared with you.</li>
</ul>
<p>For example, try something like:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb196-1" data-line-number="1"><span class="ex">rclone</span> --drive-shared-with-me lsd gdrive-rclone:</a></code></pre></div>
</div>
<div id="rclone-filter" class="section level4">
<h4><span class="header-section-number">7.2.4.3</span> filtering: Be particular about the files you transfer</h4>
<p><code>rclone</code> works a little differently than the Unix utility <code>cp</code>. In particular,
<code>rclone</code> is not set up very well to copy individual files. While there is a
an <code>rclone</code> command known as <code>copyto</code> that will allow you copy a single file,
you cannot (apparently) specify multiple, individual files that you wish to copy.</p>
<p>In other words, you can’t do:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb197-1" data-line-number="1"><span class="ex">rclone</span> copyto this_file.txt that_file.txt another_file.bam gdrive-rclone:dest_dir</a></code></pre></div>
<p>In general, you will be better off using <code>rclone</code> to copy the <em>contents</em> of a directory
to the inside of the destination directory. However, there are options in <code>rclone</code> that
can keep you from being totally indiscriminate about the files you transfer. In other words,
you can <em>filter</em> the files that get transferred. You can read about that at
<a href="https://rclone.org/filtering/">https://rclone.org/filtering/</a>.</p>
<p>For a quick example, imagine that you have a directory called <code>Data</code> on you Google Drive
that contains both VCF and BAM files. You want to get only the VCF files (ending with <code>.vcf.gz</code>, say)
onto the current working directory on your cluster. Then something like this works:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb198-1" data-line-number="1"><span class="ex">rclone</span> copy --include *.vcf.gz gdrive-rclone:Data ./</a></code></pre></div>
<p>Note that, if you are issuing this command on a Unix system in a directory
where the pattern <code>*.vcf.gz</code> will expand (by globbing) to multiple files, you will
get an error. In that case, wrap the pattern in a pair of single quotes to keep
the shell from expanding it, like this:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb199-1" data-line-number="1"><span class="ex">rclone</span> copy --include <span class="st">&#39;*.vcf.gz&#39;</span> gdrive-rclone:Data ./</a></code></pre></div>
</div>
<div id="feel-free-to-make-lots-of-configurations" class="section level4">
<h4><span class="header-section-number">7.2.4.4</span> Feel free to make lots of configurations</h4>
<p>You might want to configure a remote for each directory-specific project.
You can do that by just editing the configuration file. For example,
if I had a directory deep within my Google Drive, inside a chain of folders that
looked like, say, <code>Projects/NGS/Species/Salmon/Chinook/CentralValley/WinterRun</code>
where I was keeping
all my data on a project concerning winter-run Chinook salmon, then it would be
quite inconvenient to type <code>Projects/NGS/Species/Salmon/Chinook/CentralValley/WinterRun</code>
every time I wanted to copy or sync something within that directory. Instead,
I could add the following
lines to my configuration file, essentially copying the existing configuration and
then modifying the configuration name and the <code>root_folder_id</code> to be the
Google Drive identifier for the folder <code>Projects/NGS/Species/Salmon/Chinook/CentralValley/WinterRun</code> (which
one can find by navigating to that folder in a web browser and pulling the ID from the
end of the URL.) The updated configuration could look like:</p>
<pre><code>[gdrive-winter-run]
type = drive
scope = drive
root_folder_id = 1MjOrclmP1udhxOTvLWDHFBVET1dF6CIn
token = {&quot;access_token&quot;:&quot;bs43.94cUFOe6SjjkofZ&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;refresh_token&quot;:&quot;1/MrtfsRoXhgc&quot;,&quot;expiry&quot;:&quot;2019-04-29T22:51:58.148286-06:00&quot;}
client_id = 2934793-oldk97lhld88dlkh301hd.apps.googleusercontent.com
client_secret = MMq3jdsjdjgKTGH4rNV_y-NbbG</code></pre>
<p>As long as the directory is still within the same Google Drive account, you can re-use
all the authorization information, and just change the <code>[name]</code> part and the <code>root_folder_id</code>.
Now this:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="ex">rclone</span> copy src_dir gdrive-winter-run: </a></code></pre></div>
<p>puts items into <code>Projects/NGS/Species/Salmon/Chinook/CentralValley/WinterRun</code> on the Google Drive
without having to type that God-awful long path name.</p>
</div>
<div id="installing-rclone-on-a-remote-machine-without-sudo-access" class="section level4">
<h4><span class="header-section-number">7.2.4.5</span> Installing rclone on a remote machine without sudo access</h4>
<p>The instructions on the website require root access. You don’t have to have root
access to install rclone locally in your home directory somewhere.
Copy the download link from <a href="https://rclone.org/downloads/">https://rclone.org/downloads/</a> for
the type of operating system your remote machine uses (most likely Linux if it is a cluster).
Then transfer that with <code>wget</code>, unzip it and put the binary in your PATH. It will look
something like this:</p>
<pre><code>wget https://downloads.rclone.org/rclone-current-linux-amd64.zip
unzip rclone-current-linux-amd64.zip
cp rclone-current-linux-amd64/rclone ~/bin</code></pre>
<p>You won’t get manual pages on your system, but you can always find the docs on the web.</p>
</div>
<div id="setting-up-configurations-on-the-remote-machine" class="section level4">
<h4><span class="header-section-number">7.2.4.6</span> Setting up configurations on the remote machine…</h4>
<p>Is as easy as copying your config file to where it should go, which
is easy to find using the command:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb203-1" data-line-number="1"><span class="ex">rclone</span> config file</a></code></pre></div>
</div>
<div id="some-other-usage-tips" class="section level4">
<h4><span class="header-section-number">7.2.4.7</span> Some other usage tips</h4>
<p>Following an email exchange with Ren, I should mention how to do an md5
checksum on the remote server to make sure that everything is correctly there.</p>
</div>
</div>
<div id="getting-files-from-a-sequencing-center" class="section level3">
<h3><span class="header-section-number">7.2.5</span> Getting files from a sequencing center</h3>
<p>Very often sequencing centers will post all the data from a single
run of a machine at a secured (or unsecured) http address. You will
need to download those files to operate on them on your cluster or
local machine. However some of the files available on the server
will likely belong to other researchers and you don’t want to waste time
downloading them.</p>
<p>Let’s take an example. Suppose you are sent an email from the sequencing
center that says something like:</p>
<blockquote>
<p>Your samples are AW_F1 (female) and AW_M1 (male).
You should be able to access the data from this link provided by YCGA:
<a href="http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/" class="uri">http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/</a></p>
</blockquote>
<p>You can easily access this web address using <code>rclone</code>. You could set up a new
remote in your rclone config to point to <code>http://sysg1.cs.yale.edu</code>,
but, since you will only be using this once, to get your data, it makes
more sense to just specify the remote on the command line. This can be
done by passing <code>rclone</code> the URL address via the <code>--http-url</code> option, and
then, after that, telling it what protocol to use by adding <code>:http:</code> to
the command. Here is what you would use to list the directories available
at the sequencing center URL:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="co"># here is the command</span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="ex">%</span> rclone lsd --http-url http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/ :http:</a>
<a class="sourceLine" id="cb204-3" data-line-number="3"></a>
<a class="sourceLine" id="cb204-4" data-line-number="4"><span class="co"># and here is the output</span></a>
<a class="sourceLine" id="cb204-5" data-line-number="5">          <span class="ex">-1</span> 1969-12-31 16:00:00        -1 sjg73_fqs</a>
<a class="sourceLine" id="cb204-6" data-line-number="6">          <span class="ex">-1</span> 1969-12-31 16:00:00        -1 sjg73_supernova_fqs</a></code></pre></div>
<p>Aha! There are two directories that might hold our sequencing data.
I wonder what is in those diretories? The <code>rclone tree</code> command is the
perfect way to drill down into those diretories and look at their contents:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb205-1" data-line-number="1"><span class="ex">%</span> rclone tree --http-url http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/ :http:</a>
<a class="sourceLine" id="cb205-2" data-line-number="2"><span class="ex">/</span></a>
<a class="sourceLine" id="cb205-3" data-line-number="3">├── <span class="ex">sjg73_fqs</span></a>
<a class="sourceLine" id="cb205-4" data-line-number="4">│   ├── <span class="ex">AW_F1</span></a>
<a class="sourceLine" id="cb205-5" data-line-number="5">│   │   ├── <span class="ex">AW_F1_S2_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-6" data-line-number="6">│   │   ├── <span class="ex">AW_F1_S2_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-7" data-line-number="7">│   │   └── <span class="ex">AW_F1_S2_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-8" data-line-number="8">│   ├── <span class="ex">AW_M1</span></a>
<a class="sourceLine" id="cb205-9" data-line-number="9">│   │   ├── <span class="ex">AW_M1_S3_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-10" data-line-number="10">│   │   ├── <span class="ex">AW_M1_S3_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-11" data-line-number="11">│   │   └── <span class="ex">AW_M1_S3_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-12" data-line-number="12">│   └── <span class="ex">ESP_A1</span></a>
<a class="sourceLine" id="cb205-13" data-line-number="13">│       ├── <span class="ex">ESP_A1_S1_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-14" data-line-number="14">│       ├── <span class="ex">ESP_A1_S1_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-15" data-line-number="15">│       └── <span class="ex">ESP_A1_S1_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-16" data-line-number="16">└── <span class="ex">sjg73_supernova_fqs</span></a>
<a class="sourceLine" id="cb205-17" data-line-number="17">    ├── <span class="ex">AW_F1</span></a>
<a class="sourceLine" id="cb205-18" data-line-number="18">    │   ├── <span class="ex">AW_F1_S2_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-19" data-line-number="19">    │   ├── <span class="ex">AW_F1_S2_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-20" data-line-number="20">    │   └── <span class="ex">AW_F1_S2_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-21" data-line-number="21">    ├── <span class="ex">AW_M1</span></a>
<a class="sourceLine" id="cb205-22" data-line-number="22">    │   ├── <span class="ex">AW_M1_S3_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-23" data-line-number="23">    │   ├── <span class="ex">AW_M1_S3_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-24" data-line-number="24">    │   └── <span class="ex">AW_M1_S3_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-25" data-line-number="25">    └── <span class="ex">ESP_A1</span></a>
<a class="sourceLine" id="cb205-26" data-line-number="26">        ├── <span class="ex">ESP_A1_S1_L001_I1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-27" data-line-number="27">        ├── <span class="ex">ESP_A1_S1_L001_R1_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-28" data-line-number="28">        └── <span class="ex">ESP_A1_S1_L001_R2_001.fastq.gz</span></a>
<a class="sourceLine" id="cb205-29" data-line-number="29"></a>
<a class="sourceLine" id="cb205-30" data-line-number="30"><span class="ex">8</span> directories, 18 files</a></code></pre></div>
<p>Whoa! That is pretty cool!. From this output we see that there are
subdirectories named <code>AW_F1</code> and <code>AW_M1</code> that hold the files that
we want. And, of course, the <code>ESP_A1</code> samples must belong to someone
else. It would be great if we could just download the files we wanted,
excluding the ones in the <code>ESP_A1</code> directories. It turns out that there is!
<code>rclone</code> has an <code>--exclude</code> option to exclude paths that match certain
patterns (see Section <a href="working-on-remote-servers.html#rclone-filter">7.2.4.3</a>, above). We can
experiment by giving <code>rclone copy</code> the <code>--dry-run</code> command to see which
files will be transferred. If we don’t do any filtering, we see this
when we try to dry-run copy the directories to our local directory <code>Alewife/fastqs</code>:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="ex">%</span> rclone copy --dry-run --http-url http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/ :http: Alewife/fastqs/</a>
<a class="sourceLine" id="cb206-2" data-line-number="2"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/ESP_A1/ESP_A1_S1_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-3" data-line-number="3"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/ESP_A1/ESP_A1_S1_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-4" data-line-number="4"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/ESP_A1/ESP_A1_S1_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-5" data-line-number="5"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-6" data-line-number="6"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-7" data-line-number="7"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-8" data-line-number="8"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-9" data-line-number="9"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-10" data-line-number="10"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-11" data-line-number="11"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/ESP_A1/ESP_A1_S1_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-12" data-line-number="12"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/ESP_A1/ESP_A1_S1_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-13" data-line-number="13"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_supernova_fqs/ESP_A1/ESP_A1_S1_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-14" data-line-number="14"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-15" data-line-number="15"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-16" data-line-number="16"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-17" data-line-number="17"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-18" data-line-number="18"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb206-19" data-line-number="19"><span class="ex">2019/07/11</span> 10:33:43 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_R2_001.fastq.gz: Not copying as --dry-run</a></code></pre></div>
<p>Since we do not want to copy the <code>ESP_A1</code> files we see if we can exclude
them:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="ex">%</span> rclone copy --exclude */ESP_A1/* --dry-run --http-url http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/ :http: Alewife/fastqs/</a>
<a class="sourceLine" id="cb207-2" data-line-number="2"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-3" data-line-number="3"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-4" data-line-number="4"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_F1/AW_F1_S2_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-5" data-line-number="5"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-6" data-line-number="6"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-7" data-line-number="7"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_fqs/AW_M1/AW_M1_S3_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-8" data-line-number="8"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-9" data-line-number="9"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_R2_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-10" data-line-number="10"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_F1/AW_F1_S2_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-11" data-line-number="11"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_I1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-12" data-line-number="12"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_R1_001.fastq.gz: Not copying as --dry-run</a>
<a class="sourceLine" id="cb207-13" data-line-number="13"><span class="ex">2019/07/11</span> 10:37:22 NOTICE: sjg73_supernova_fqs/AW_M1/AW_M1_S3_L001_R2_001.fastq.gz: Not copying as --dry-run</a></code></pre></div>
<p>Booyah! That gets us just what we want. So, then we remove the <code>--dry-run</code> option,
and maybe add <code>-v -P</code> to give us verbose output and progress information, and copy all of our files:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="ex">%</span> rclone copy --exclude */ESP_A1/* -v -P  --http-url http://sysg1.cs.yale.edu:3010/5lnO9bs3zfa8LOhESfsYfq3Dc/061719/ :http: Alewife/fastqs/</a></code></pre></div>
</div>
</div>
<div id="tmux" class="section level2">
<h2><span class="header-section-number">7.3</span> <code>tmux</code>: the terminal multiplexer</h2>
<p>Many universities have recently implemented a two-factor
authentication requirement for access to their computing resources
(like remote servers and clusters). This means that every time
you login to a server on campus (using <code>ssh</code> for example) you must
type your password, and also fiddle with your phone. Such systems
preclude the use of public/private key pairs that historically allowed
you to access a server from a trusted client (i.e., your own secured
laptop) without having to type in a password. As a consequence, today,
opening multiple sessions on a server using <code>ssh</code> and two-factor
authentication requires a ridiculous amount of additional typing and
phone-fiddling, and is a huge hassle. But, when working on a remote
server it is often very convenient to have multiple separate shells that
you are working on and can quickly switch between.</p>
<p>At the same time. When you are working on the shell of a remote machine
and your network connection goes down, then, typically the bash session on
your remote machine will be forcibly quit, killing any jobs that you might
have been in the middle of (however, this is not the case of you submitted
those jobs through a job scheduler like SLURM. Much more on that in the
next chapter.). And, finally, in a traditional
<code>ssh</code> session to a remote machine, when you close your laptop, or put it
to sleep, or quit the Terminal application, all of your active bash sessions
on the remote machine will get shut down. Consequently, the next time
you want to work on that project, after you have logged
onto that remote machine you will have to go through the laborious steps
of navigating to your desired working directory, starting up any processes
that might have gotten killed, and generally getting yourself
set up to work again. That is a serious buzz kill!</p>
<p>Fortunately, there is an awesome utility called <code>tmux</code>, which is short for
“terminal multiplexer” that solves most of the problems we just described.
<code>tmux</code> is similar in function to a utility called <code>screen</code>, but it is easier
to use while at the same time being more customizable and configurable
(in my opinion). <code>tmux</code> is basically your ticket to working <em>way</em> more
efficiently on remote computers, while at the same time looking
(to friends and colleagues, at least) like
the full-on, bad-ass Unix user.</p>
<p>In full confession, I didn’t actually start using <code>tmux</code> until some
five years after a speaker at a workshop delivered an incredibly
enthusiastic presentation about <code>tmux</code> and how much he was in love
with it. In somewhat the same fashion that I didn’t adopt RStudio shortly
after its release, because I had my own R workflows that I had hacked
together myself, I thought to myself: “I have public/private key pairs
so it is super easy for me to just start another terminal window and login
to the server for a new session. Why would I need <code>tmux</code>?” I also didn’t
quite understand how <code>tmux</code> worked initially: I thought that I had to
run <code>tmux</code> simultaneously on my laptop and on the server, and that those
two processes would talk to one another. That is not the case! You
just have to run <code>tmux</code> on the server and all will work fine!
The upshot of that confession is that you should <em>not</em> be a bozo like me,
and you should learn to use <code>tmux</code> <em>right now</em>! You will thank yourself
for it many times over down the road.</p>
<div id="an-analogy-for-how-tmux-works" class="section level3">
<h3><span class="header-section-number">7.3.1</span> An analogy for how <code>tmux</code> works</h3>
<p>Imagine that the first time you log in to your remote server
you also have the option of speaking on the phone to a super
efficient IT guy who has a desk in the server room.
This dude never takes a break, but sits at his desk
24/7. He probably has mustard stains on his dingy white T-shirt
from eating ham sandwiches non-stop while he works super hard. This guy is Tmux.</p>
<p>When you <em>first</em> speak to this guy after logging in, you have to preface your
commands with <code>tmux</code> (as in, “Hey Tmux!”). He is there to help you
manage different terminal windows with different bash shells or
processes going on in them. In fact, you can think of it this way: you can
ask him to set up
a terminal (i.e., like a monitor), right there on his desk, and then create
a bunch of windows on that terminal for you—each
one with its own bash shell—without having to do a separate login for
each one. He has created all those windows, but you still get to use them.
It is like he has a miracle-mirroring device that lets you operate
the windows that are on the terminal he set up for you on his desk.</p>
<p>When you are done working on all those windows, you can tell Tmux that you
want to <em>detach</em> from the special terminal he set up for you at the server.
In response he says, “Cool!” and shuts down his miracle-mirroring device, so
you no longer see those different windows. However, he <em>does not</em> shut down the
terminal on his desk that he set up for you. That terminal stays on, and any of your processes
happening on it keep chugging away…even after you logout from the server entirely,
throw the lid down on your laptop,
have drinks with your friends at Social, downtown, watch an episode
of Parks and Rec, and then get a good night’s sleep.</p>
<p>All through the night, Tmux is munching ham sandwiches and keeping an eye on that
terminal he set up for you. When you log back onto the server in the morning, you
can say “Hey Tmux! I want to attach back to that terminal you set up for me.” He
says, “No problem!”, turns his miracle-mirroring device back on, and in an instant
you have all of the windows on that terminal back on your laptop with all the processes
still running in them—in all the same working directories—just as you left it all
(except that if you were running jobs in those windows, some of those jobs might already
be done!).</p>
<p>Not only that, but, further, if you are working on the server when a local thunderstorm
fries the motherboard on your laptop, you can get a new laptop, log back into the
server and ask Tmux to reconnect you to that terminal and get back to all of those
windows and jobs, etc. as if you didn’t get zapped. The same goes for the case of
a backhoe operator accidentally digging up the fiber optic cable in your yard. Your
network connection can go down completely. But, when you get it up and running again,
you can say “Hey Tmux! Hook me up!” and he’ll say, “No problem!” and reconnect you
to all those windows you had open on the server.</p>
<p>Finally, when you are done with all the windows and jobs on the terminal that Tmux set
up for you, you can ask him to kill it, and he will shut it down, unplug it, and, straight
out of <em>Office Space</em>, chuck it out the window. But he will gladly install a new one
if you want to start another <em>session</em> with him.</p>
<p>That dude is super helpful!</p>
</div>
<div id="first-steps-with-tmux" class="section level3">
<h3><span class="header-section-number">7.3.2</span> First steps with <code>tmux</code></h3>
<p>The first thing you want to
do to make sure Tmux is ready to help you is to simply type:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb209-1" data-line-number="1"><span class="ex">%</span> which tmux</a></code></pre></div>
<p>This should return something like:</p>
<pre><code>/usr/bin/tmux</code></pre>
<p>If, instead, you get a response like <code>tmux: Command not found.</code> then <code>tmux</code>
is apparently not installed
on your remote server, so you
will have to install it yourself, or beg your sysadmin to do so (we will cover
that in a later chapter). If you
are working on the Summit supercomptuer in Colorado or on Hummingbird at
UCSC, then <code>tmux</code> is installed already. (As of Feb 16, 2020, <code>tmux</code> was
not installed on the Sedna cluster at the NWFSC, but I will request that it
be installed.)</p>
<p>In the analogy, above, we talked about Tmux setting up a terminal
in the server room. In <code>tmux</code> parlance, such a “terminal” is called
a <em>session</em>. In order to be able to tell Tmux that you want to reconnect
to a session, you
will <em>always</em> want to name your sessions so you will request a new
session with this syntax:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb211-1" data-line-number="1"><span class="ex">%</span> tmux new -s froggies</a></code></pre></div>
<p>You can think of the <code>-s</code> as being short for “session.” So it is basically a short
way of saying, “Hey Tmux, give me a new session named <code>froggies</code>.”
That creates a new session called <code>froggies</code>, and you can imagine we’ve
named it that because we will use it for work on a frog genomics project.</p>
<p>The effect of this
is like Tmux firing up a new terminal in his server room, making a
window on it for you, starting a new bash shell in that window,
<em>and then giving you control of this new terminal</em>.
In other words, it is sort of like he has opened a new shell window on a
terminal for you, and is letting you see and use it on your computer at the same time.</p>
<p>One very cool thing about this is that you just got a new bash shell
without having to login with your password and two-factor authentication again.
That much is cool in itself, but is only the beginning.</p>
<p>The new window that you get looks a little different. For one thing, it
has a section, one line tall, that is green (by default) on the bottom.
In our case, on the left side it gives the name of the session (in square
brackets) and then the name of the current <em>window</em> within that session. On
the right side you see the <em>hostname</em> (the name of the remote computer
you are working on) in quotes, followed by the date and time. The contents
in that green band will look something
like:</p>
<pre><code>[froggies] 0:bash*                                               &quot;login11&quot; 20:02 15-Feb-20</code></pre>
This little line of information is the sweet sauce that will let you
find your way around all the new windows that
<code>tmux</code> can spawn for you.<br />

<div class="rmdcaution">
If you are working on a cluster, please pay special attention to the hostname.
(In the above case the hostname is <code>login11</code>). Many clusters have multiple <em>login</em>
or <em>head</em> nodes, as they are called. The next time you login to the cluster, you
might be assigned to a different login node which will have no idea about your
<code>tmux</code> sessions. If that were the case in this example I would have to use <code>slogin login11</code> and
authenticate again to get logged into <code>login11</code> to reconnect to my
<code>tmux</code> session, <code>froggies</code>. Or, if you were a CSU student and wanted to login specifically to
the <code>login11</code> node on Summit the next time you logged on you could do
<code>ssh username@colostate.edu@login11.rc.colorado.edu</code>. Note the specific <code>login11</code> in that
statement.
</div>

<p>Now, imagine that we want to use this <em>window</em> in our <code>froggies</code> <em>session</em>, to look at some
frog data we have. Accordingly, we might navigate to the directory where those data live
and look at the data with <code>head</code> and <code>less</code>, etc. That is all great, until we realize that
we also want to edit some scripts that we wrote for processing our froggy data. These scripts
might be in a directory far removed from the data directory we are currently in, and we don’t really
want to keep navigating back and forth between those two directories within a single bash shell.
Clearly, we would like to have two windows that we could switch between: one for inspecting
our data, and the other for editing our scripts.</p>
<p>We are in luck! We can do this with <code>tmux</code>. However, now that we are safely working in a <em>session</em>
that <code>tmux</code> started for us, we no longer have to shout “Hey Tmux!” Rather we can just “ring a little
bell” to get his attention. In the default <code>tmux</code> configuration, you do that by pressing
<code>&lt;cntrl&gt;-b</code> from anywhere within a <code>tmux</code> window. This is easy to remember because it is like
a “b” for the “bell” that we ring to get our faithful servant’s attention. <code>&lt;cntrl&gt;-b</code> is known
as the “prefix” sequence that starts all requests to <code>tmux</code> from within a session.</p>
<p>The first thing that we are going to do is ask <code>tmux</code> to let us assign a more descriptive,
name—<code>data</code> to be specific—to the current window. We do this with</p>
<pre><code>&lt;cntrl&gt;-b ,</code></pre>
<p>(That’s right! It’s a control-b and then a comma. <code>tmux</code> likes to get by on a minimum number
of keystrokes.) When you do that, the green band at the bottom of the window changes color
and tells you that you can rename the current window. We simply use our keyboard to
change the name to “data”. That was super easy!</p>
<p>Now, to make a new window with a new bash shell that we can use for writing scripts
we do <code>&lt;cntrl&gt;-b c</code>. Try it! That gives you a new <em>window</em> within the <code>froggies</code> session
and switches your focus to it. It is as if Tmux (in his mustard-stained shirt) has created
a new window on the <code>froggies</code> terminal, brought it to the front, and shared it with you.
The left side of the green <code>tmux</code> status bar at the bottom of the screen now says:</p>
<pre><code>[froggies] 0:data- 1:bash*</code></pre>
<p>Holy Moly! This is telling you that the <code>froggies</code> session has two windows in it: the first
numbered 0 and named <code>data</code>, and the second numbered 1 and named <code>bash</code>. The <code>-</code> at the end
of <code>0:data-</code> is telling you that <code>data</code> is the window you were previously focused on, but that
now you are currently focused on the window with the <code>*</code> after its name: <code>1:bash*</code>.</p>
<p>So, the name <code>bash</code> is not as informative as it could be. Since we will be using this
new window for editing scripts, let’s rename it to <code>edit</code>. You can do that with
<code>&lt;cntrl&gt;-b ,</code>. Do it!</p>
<p>OK! Now, if you have been paying attention, you probably realize that <code>tmux</code> has given us
two windows (with two different bash shells) in this session called <code>froggies</code>. Not only that
but it has associated a single-digit number with each window. If you are all about keyboard
shortcuts, then you probably have already imagined that <code>tmux</code> will let you switch between
these two windows with <code>&lt;cntrl&gt;-b</code> plus a digit (0 or 1 in this case). Play with that.
Do <code>&lt;cntrl&gt;-b 0</code> and <code>&lt;cntrl&gt;-b 1</code> and feel the power!</p>
<p>Now, for fun, imagine that we want to have another window and a bash shell for launching
jobs. Make a new window, name it <code>launch</code>, and then switch between those three windows.</p>
<p>Finally. When you are done with all that, you tell Tmux to detach from this session
by typing:</p>
<pre><code>&lt;cntrl&gt;-b d</code></pre>
<p>(The <code>d</code> is for “detach”). This should kick you back to the shell from which you
first shouted “Hey Tmux!” by issuing the <code>tmux a -t froggies</code> command. So, you
can’t see the windows of your <code>froggies</code> session any longer, <em>but do not despair</em>!
Those windows are still on the monitor Tmux set up for you, casting an eerie glow
on his mustard stained shirt.</p>
<p>If you want to get back in the driver’s seat with all of those windows, you simply need to
tell Tmux that you want to be attached again via his miracle-mirroring device. Since we
are no longer in a <code>tmux</code> window, we don’t use our <code>&lt;cntrl-b&gt;</code> bell to get Tmux’s attention.
We have to shout:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="ex">%</span> tmux attach -t froggies</a></code></pre></div>
<p>The <code>-t</code> flag stands for “target.” The <code>froggies</code> session is the target of our
attach request. Note that if you don’t like typing that much, you can shorten this to:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="ex">%</span> tmux a -t froggies</a></code></pre></div>
<p>Of course, sometimes, when you log back onto the server, you won’t remember the name
of the <code>tmux</code> session(s) you started. Use this command to list them all:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="ex">%</span> tmux ls</a></code></pre></div>
<p>The <code>ls</code> here stands for “list-sessions.” This can be particularly useful if you
actually have multiple sessions. For example, suppose you are a poly-taxa genomicist,
with projects not only on a frog species, but also on a fish and a bird species. You
might have a separate session for each of those, so that when you issue <code>tmux ls</code> the
result could look something like:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="ex">%</span> tmux ls</a>
<a class="sourceLine" id="cb219-2" data-line-number="2"><span class="ex">birdies</span>: 4 windows (created Sun Feb 16 07:23:30 2020) [<span class="ex">203x59</span>]</a>
<a class="sourceLine" id="cb219-3" data-line-number="3"><span class="ex">fishies</span>: 2 windows (created Sun Feb 16 07:23:55 2020) [<span class="ex">203x59</span>]</a>
<a class="sourceLine" id="cb219-4" data-line-number="4"><span class="ex">froggies</span>: 3 windows (created Sun Feb 16 07:22:36 2020) [<span class="ex">203x59</span>]</a></code></pre></div>
<p>That is enough to remind you of which session you might wish to reattach to.</p>
<p>Finally, if you are all done with a <code>tmux</code> session, and you have detached from it,
then from your shell prompt (not within a <code>tmux</code> session) you can do, for example:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="ex">tmux</span> kill-session -t  birdies</a></code></pre></div>
<p>to kill the session. There are other ways to kill sessions while you
are in them, but that is not so much needed.</p>
<p>Table <a href="working-on-remote-servers.html#tab:minimal-tmux">7.1</a> reviews the minimal set of
<code>tmux</code> commands just described. Though there is much more that
can be done with <code>tmux</code>, those commands will get you started.</p>
<table>
<caption><span id="tab:minimal-tmux">TABLE 7.1: </span> A bare bones set of commands for using <code>tmux</code> The first column says whether the command is given within a <code>tmux</code> session rather than at the shell outside of a <code>tmux</code> session</caption>
<colgroup>
<col width="19%" />
<col width="38%" />
<col width="41%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Within tmux?</th>
<th align="left">Command</th>
<th align="left">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">N</td>
<td align="left"><code>tmux ls</code></td>
<td align="left">List any tmux sessions the
server knows about</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="left"><code>tmux new -s name</code></td>
<td align="left">Create a new tmux session
named “name”</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left"><code>tmux attach -t name</code></td>
<td align="left">Attach to the existing tmux
session “name”</td>
</tr>
<tr class="even">
<td align="left">N</td>
<td align="left"><code>tmux a -t name</code></td>
<td align="left">Same as “attach” but shorter.</td>
</tr>
<tr class="odd">
<td align="left">N</td>
<td align="left"><code>tmux kill-session -t</code> name</td>
<td align="left">Kill the tmux session named
“name”</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b ,</code></td>
<td align="left">Edit the name of the current
window</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b c</code></td>
<td align="left">Create a new window</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b 3</code></td>
<td align="left">Move focus to window 3</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b &amp;</code></td>
<td align="left">Kill current window</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b d</code></td>
<td align="left">Detach from current session</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-l</code></td>
<td align="left">Clear screen current window</td>
</tr>
</tbody>
</table>
</div>
<div id="further-steps-with-tmux" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Further steps with <code>tmux</code></h3>
<p>The previous section merely scratched the surface of what is possible with <code>tmux</code>.<br />
Indeed, that is the case with this section. But here I just want to leave you with a
taste for how to configure <code>tmux</code> to your liking, and also with the ability to create
different <em>panes</em> within a window within a session. You guessed it! A pane is made by
splitting a <em>window</em> (which is itself a part of a <em>session</em>) into two different
sections, each one running its own bash shell.</p>
<p>Before we start making panes, we set some configurations that make the
establishment of panes more intuitive (by using keystrokes that are easier
to remember) and others that make it easier to quickly adjust the size of the panes.
So, first, add these lines to <code>~/.tmux.conf</code>:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="co"># splitting panes</span></a>
<a class="sourceLine" id="cb221-2" data-line-number="2"><span class="bu">bind</span> <span class="dt">\ </span>split-window -h -c <span class="st">&#39;#{pane_current_path}&#39;</span></a>
<a class="sourceLine" id="cb221-3" data-line-number="3"><span class="bu">bind</span> - split-window -v -c <span class="st">&#39;#{pane_current_path}&#39;</span></a>
<a class="sourceLine" id="cb221-4" data-line-number="4"></a>
<a class="sourceLine" id="cb221-5" data-line-number="5"><span class="co"># easily resize panes with &lt;C-b&gt; + one of j, k, h, l</span></a>
<a class="sourceLine" id="cb221-6" data-line-number="6"><span class="ex">bind-key</span> j resize-pane -D 10</a>
<a class="sourceLine" id="cb221-7" data-line-number="7"><span class="ex">bind-key</span> k resize-pane -U 10</a>
<a class="sourceLine" id="cb221-8" data-line-number="8"><span class="ex">bind-key</span> h resize-pane -L 10</a>
<a class="sourceLine" id="cb221-9" data-line-number="9"><span class="ex">bind-key</span> l resize-pane -R 10</a></code></pre></div>
<p>Once you have updated <code>~/.tmux.conf</code> you need to reload that
configuration file in <code>tmux</code>. So, from within a <code>tmux</code> session,
you do <code>&lt;cntrl&gt;-b :</code>. This let’s you type a <code>tmux</code> command in the lower
left (where the cursor has become active). Type <code>source-file ~/.tmux.conf</code></p>
<p>The comments show what each line is intended to do, and you
can see that the configuration “language” for <code>tmux</code> is relatively
unintimidating. In plain language, these configurations are saying that, after this
configuration is made active, <code>&lt;cntrl&gt;-b /</code> will split a window (or a pane),
vertically, in to two panes. (Note that this is easy to remember
because on an American keyboard, the <code>\</code> and the <code>|</code>, share a key. The latter
looks like a vertical separator, and would thus be a good key stroke
to split a screen vertically, but why force ourselves to hit the shift key as well?).
Likewise, <code>&lt;cntrl&gt;-b -</code> will split a window (or a pane) into two panes.</p>
What do we mean by splitting a window into multiple panes? A picture is
worth a thousand words. Figure <a href="working-on-remote-servers.html#fig:tmux-4-panes">7.3</a> shows a <code>tmux</code>
window with four panes. The two vertical ones on the left show a yaml
file and a shell script being edited in <code>vim</code>, and the remaining two
house shells for looking at files in two different directories.
<div class="figure" style="text-align: center"><span id="fig:tmux-4-panes"></span>
<img src="figs/tmux-4-panes.png" alt="A tmux window with four panes." width="1107" />
<p class="caption">
FIGURE 7.3: A tmux window with four panes.
</p>
</div>
<p>This provides almost endless opportunities for customizing the
appearance of your terminal workspace on a remote machine for maximum
efficiency. Of course, doing so requires you know a few more
keystrokes for handling panes. These are summarized in Table <a href="working-on-remote-servers.html#tab:tmux-pane-strokes">7.2</a>.</p>
<table style="width:94%;">
<caption><span id="tab:tmux-pane-strokes">TABLE 7.2: </span> Important keystrokes within a <code>tmux</code> session for handling panes</caption>
<colgroup>
<col width="20%" />
<col width="27%" />
<col width="45%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Within tmux?</th>
<th align="left">Command</th>
<th align="left">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b /</code></td>
<td align="left">Split current window/pane
vertically into two panes</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b -</code></td>
<td align="left">Split current window/pane
horizontally into two panes</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b arrow</code></td>
<td align="left">Use <code>&lt;cntrl&gt;-b</code> + an arrow key
to move sequentially amongst
panes</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b x</code></td>
<td align="left">Kill current the current pane</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><code>&lt;cntrl&gt;-b q</code></td>
<td align="left">Paint big ID numbers (from 0
up) on the panes for a few
seconds. Hitting a number
before it disappears moves
focus to that pane.</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left"><cntrl>-b [hjkl]</td>
<td align="left">Resize the current pane, h =
Left, j = Down, k = Up, l =
Right. It takes a while to
understand which boundary will
move.</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="left"><cntrl>-b z</td>
<td align="left">Zoom current pane to full
size. <code>&lt;cntrl&gt;-b z</code> again
restores it to original size.</td>
</tr>
</tbody>
</table>
<p>Now that you have seen all these keystrokes, use <code>&lt;cntrl&gt;-b \</code> and <code>&lt;cntrl&gt;-b -</code> to split your windows
up into a few panes and try them out. It takes a while to get used to it, but once you get
the hang of it, it’s quite nice.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sed-awk-and-regular-expressions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="high-performance-computing-hpc-environments.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/eriqande/eca-bioinf-handbook/edit/master/1.030-working-on-remote-servers.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/eriqande/eca-bioinf-handbook/commits/master/1.030-working-on-remote-servers.Rmd",
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["eca-bioinf-handbook.pdf", "eca-bioinf-handbook.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
